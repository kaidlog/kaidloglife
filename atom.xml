<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>KaidlogLife</title>
  
  
  <link href="https://kaidloglife.netlify.app/atom.xml" rel="self"/>
  
  <link href="https://kaidloglife.netlify.app/"/>
  <updated>2022-05-18T18:11:28.470Z</updated>
  <id>https://kaidloglife.netlify.app/</id>
  
  <author>
    <name>Cheng Kai(Nicholas) Cheng</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>What&#39;s the gozero structure?</title>
    <link href="https://kaidloglife.netlify.app/2022/05/19/gozero_structure/"/>
    <id>https://kaidloglife.netlify.app/2022/05/19/gozero_structure/</id>
    <published>2022-05-18T18:07:38.287Z</published>
    <updated>2022-05-18T18:11:28.470Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div class="fj-gallery"><p><img src="https://github.com/Mikaelemmmm/go-zero-looklook/raw/main/doc/chinese/images/1/gozerolooklook.png" alt="A"></p>          </div>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="Software Development" scheme="https://kaidloglife.netlify.app/categories/Software-Development/"/>
    
    <category term="golang" scheme="https://kaidloglife.netlify.app/categories/Software-Development/golang/"/>
    
    
    <category term="golang" scheme="https://kaidloglife.netlify.app/tags/golang/"/>
    
    <category term="gozero" scheme="https://kaidloglife.netlify.app/tags/gozero/"/>
    
  </entry>
  
  <entry>
    <title>How to pack a set of unit tests for golang program?</title>
    <link href="https://kaidloglife.netlify.app/2022/05/19/pack_unit_test/"/>
    <id>https://kaidloglife.netlify.app/2022/05/19/pack_unit_test/</id>
    <published>2022-05-18T16:59:50.015Z</published>
    <updated>2022-05-18T17:10:18.047Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>若有好幾個測試想要打包在一個測試 func ，該如何操作呢?</p></blockquote><ol><li>首先需要知道該怎麼做 unit test。 還不會可以去看<a href="https://hackmd.io/qGBPYTW0ThWwnPm7FNDJew?view">這篇文章</a>。</li><li>我們可以用多個 t.Run 來打包子測試集 func。</li></ol><p>將兩個測試，一個測試正確案例，一個測試錯誤案例，並且打包在一個測試 func<br>不多說，直接上代碼</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestCalculateIsArmstrong</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">t.Run(<span class="string">&quot;should return true for 371&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">testCase := TestCase&#123;</span><br><span class="line">value:    <span class="number">371</span>,</span><br><span class="line">expected: <span class="literal">true</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">testCase.actual = narcissisticNumberCal.CalculateIsArmstrong(testCase.value)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> testCase.actual != testCase.expected &#123;</span><br><span class="line">t.Fail()</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">t.Run(<span class="string">&quot;should return true for 371&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">testCase := TestCase&#123;</span><br><span class="line">value:    <span class="number">350</span>,</span><br><span class="line">expected: <span class="literal">false</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">testCase.actual = narcissisticNumberCal.CalculateIsArmstrong(testCase.value)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> testCase.actual != testCase.expected &#123;</span><br><span class="line">t.Fail()</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>測試結果</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Users\Kevin Cheng\GolandProjects\awesomeProject1&gt; <span class="keyword">go</span> test ./... -v</span><br><span class="line">=== RUN   TestCalculateIsArmstrong</span><br><span class="line">=== RUN   TestCalculateIsArmstrong/should_return_true_for_371</span><br><span class="line">=== RUN   TestCalculateIsArmstrong/should_return_true_for_371#<span class="number">01</span></span><br><span class="line">--- PASS: TestCalculateIsArmstrong (<span class="number">0.00</span>s)</span><br><span class="line">    --- PASS: TestCalculateIsArmstrong/should_return_true_for_371 (<span class="number">0.00</span>s)</span><br><span class="line">    --- PASS: TestCalculateIsArmstrong/should_return_true_for_371#<span class="number">01</span> (<span class="number">0.00</span>s)</span><br><span class="line">PASS</span><br><span class="line">ok      awesomeProject1/narcissisticNumberCal   <span class="number">0.482</span>s</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="Software Development" scheme="https://kaidloglife.netlify.app/categories/Software-Development/"/>
    
    <category term="Test" scheme="https://kaidloglife.netlify.app/categories/Software-Development/Test/"/>
    
    
    <category term="golang" scheme="https://kaidloglife.netlify.app/tags/golang/"/>
    
    <category term="unit test" scheme="https://kaidloglife.netlify.app/tags/unit-test/"/>
    
  </entry>
  
  <entry>
    <title>How to do unit test for golang program?</title>
    <link href="https://kaidloglife.netlify.app/2022/05/17/unit_test_golang/"/>
    <id>https://kaidloglife.netlify.app/2022/05/17/unit_test_golang/</id>
    <published>2022-05-17T13:40:13.457Z</published>
    <updated>2022-05-17T19:29:21.607Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><blockquote><p>實作一個功能能夠計算出水仙花數，並且提供一個正確的測試案例，一個錯誤的測試案例，測試完執行結果正確。   </p><blockquote><p>Last edited : Cheng-Kai Cheng<br>Language : Golang</p></blockquote></blockquote></blockquote><h3 id="1-甚麼是水仙花數-Narcissistic-number又被稱作-Armstrong-Number"><a href="#1-甚麼是水仙花數-Narcissistic-number又被稱作-Armstrong-Number" class="headerlink" title="1. 甚麼是水仙花數(Narcissistic number又被稱作 Armstrong Number)?"></a>1. 甚麼是水仙花數(Narcissistic number又被稱作 Armstrong Number)?</h3><p>先上 wiki找，了解一下<a href="https://zh.wikipedia.org/zh-tw/%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0">水仙花數</a></p><p>用一個簡單的例子來說明:</p><p><code>370 = 3^3 + 7^3 + 0^3。</code></p><p>370 是三位數，所以次方為 3，然後每個數字的 3次方的和為 370。</p><p>既然理解需求了，我們就實際來處理需求吧!</p><ol><li>打開 Goland IDE</li><li>新增一個 package， narcissisticNumberCal</li><li>底下新增一個 go file, narcissisticNumberCal.go</li></ol><h4 id="代碼如下"><a href="#代碼如下" class="headerlink" title="代碼如下"></a>代碼如下</h4><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">package</span> narcissisticNumberCal</span><br><span class="line"></span><br><span class="line">  <span class="keyword">import</span> <span class="string">&quot;math&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">CalculateIsArmstrong</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">bool</span>&#123;</span><br><span class="line">a := n / <span class="number">100</span></span><br><span class="line">b := n % <span class="number">100</span> / <span class="number">10</span></span><br><span class="line">c := n % <span class="number">10</span></span><br><span class="line"><span class="keyword">return</span> n == <span class="type">int</span>(math.Pow(<span class="type">float64</span>(a), <span class="number">3</span>) + math.Pow(<span class="type">float64</span>(b), <span class="number">3</span>) + math.Pow(<span class="type">float64</span>(c),<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="2-我們要如何做單元測試，證明這個-func-是正確的呢"><a href="#2-我們要如何做單元測試，證明這個-func-是正確的呢" class="headerlink" title="2. 我們要如何做單元測試，證明這個 func 是正確的呢??"></a>2. 我們要如何做單元測試，證明這個 func 是正確的呢??</h3><p>   &#x2F;&#x2F;在 同樣目錄底下新增一個 go file, narcissisticNumberCal_test.go</p><p>   &#x2F;&#x2F;代碼如下</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">package</span> narcissisticNumberCal_test</span><br><span class="line"></span><br><span class="line">  <span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;awesomeProject1/narcissisticNumberCal&quot;</span></span><br><span class="line"><span class="string">&quot;testing&quot;</span></span><br><span class="line">  )</span><br><span class="line">  <span class="comment">// 抽象化宣告</span></span><br><span class="line">  <span class="keyword">type</span> TestCase <span class="keyword">struct</span> &#123;</span><br><span class="line">value <span class="type">int</span></span><br><span class="line">expected <span class="type">bool</span></span><br><span class="line">actual <span class="type">bool</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 因為 371 是水仙花數，我們實體化 testCase，</span></span><br><span class="line">  <span class="comment">// 並且賦值給 testCase，期望為正確的(true)</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">TestCalculateIsArmstrong</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">testCase := TestCase&#123;</span><br><span class="line">value: <span class="number">371</span>,</span><br><span class="line">expected: <span class="literal">true</span>,</span><br><span class="line">&#125;</span><br><span class="line">   <span class="comment">// 調用你寫的 func，並帶入 371，看跟 testCase 是否相同?</span></span><br><span class="line">testCase.actual = narcissisticNumberCal.CalculateIsArmstrong(testCase.value)</span><br><span class="line">   <span class="comment">// 若相同則為不抱錯</span></span><br><span class="line"><span class="keyword">if</span> testCase.actual != testCase.expected &#123;</span><br><span class="line">t.Fail()</span><br><span class="line">&#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>   &#x2F;&#x2F;執行結果</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Users\Kevin Cheng\GolandProjects\awesomeProject1&gt; <span class="keyword">go</span> test ./... -v</span><br><span class="line">=== RUN   TestCalculateIsArmstrong</span><br><span class="line">--- PASS: TestCalculateIsArmstrong (<span class="number">0.00</span>s)</span><br><span class="line">PASS</span><br><span class="line">ok      awesomeProject1/narcissisticNumberCal   <span class="number">0.234</span>s</span><br></pre></td></tr></table></figure><p>   &#x2F;&#x2F;到了這邊，我們會思考一件事情，就是那錯誤案例怎麼測?同樣道理<br>   &#x2F;&#x2F;新增一個測試 negative 的 func<br>   &#x2F;&#x2F;代碼如下:</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">package</span> narcissisticNumberCal_test</span><br><span class="line"></span><br><span class="line">  <span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;awesomeProject1/narcissisticNumberCal&quot;</span></span><br><span class="line"><span class="string">&quot;testing&quot;</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="keyword">type</span> TestCase <span class="keyword">struct</span> &#123;</span><br><span class="line">value <span class="type">int</span></span><br><span class="line">expected <span class="type">bool</span></span><br><span class="line">actual <span class="type">bool</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">TestCalculateIsArmstrong</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">testCase := TestCase&#123;</span><br><span class="line">value: <span class="number">371</span>,</span><br><span class="line">expected: <span class="literal">true</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">testCase.actual = narcissisticNumberCal.CalculateIsArmstrong(testCase.value)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> testCase.actual != testCase.expected &#123;</span><br><span class="line">t.Fail()</span><br><span class="line">&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//因為 350 不是水仙花數，所以我們期望是錯誤的，那麼就應該在調用我們 func 回傳 false</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">TestNegativeCalculateIsArmstrong</span><span class="params">(t *testing.T)</span></span>&#123;</span><br><span class="line">testCase := TestCase&#123;</span><br><span class="line">value: <span class="number">350</span>,</span><br><span class="line">expected: <span class="literal">false</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">testCase.actual = narcissisticNumberCal.CalculateIsArmstrong(testCase.value)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> testCase.actual != testCase.expected &#123;</span><br><span class="line">t.Fail()</span><br><span class="line">&#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>執行結果</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Users\Kevin Cheng\GolandProjects\awesomeProject1&gt; <span class="keyword">go</span> test ./... -v</span><br><span class="line">=== RUN   TestCalculateIsArmstrong</span><br><span class="line">--- PASS: TestCalculateIsArmstrong (<span class="number">0.00</span>s)</span><br><span class="line">=== RUN   TestNegativeCalculateIsArmstrong</span><br><span class="line">--- PASS: TestNegativeCalculateIsArmstrong (<span class="number">0.00</span>s)</span><br><span class="line">PASS</span><br><span class="line">ok      awesomeProject1/calculator      <span class="number">0.193</span>s</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="Software Development" scheme="https://kaidloglife.netlify.app/categories/Software-Development/"/>
    
    <category term="Test" scheme="https://kaidloglife.netlify.app/categories/Software-Development/Test/"/>
    
    
    <category term="golang" scheme="https://kaidloglife.netlify.app/tags/golang/"/>
    
    <category term="unit test" scheme="https://kaidloglife.netlify.app/tags/unit-test/"/>
    
  </entry>
  
  <entry>
    <title>How to use as400 to automize the data stream?</title>
    <link href="https://kaidloglife.netlify.app/2019/12/05/as400/"/>
    <id>https://kaidloglife.netlify.app/2019/12/05/as400/</id>
    <published>2019-12-05T14:51:24.000Z</published>
    <updated>2022-05-18T17:38:36.124Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="資料格式"><a href="#資料格式" class="headerlink" title="資料格式"></a>資料格式</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><span class="line">F*+==============================================================+</span><br><span class="line">H DEBUG DATEDIT(*YMD) DATFMT(*YMD)                                </span><br><span class="line">H OPTION(*SRCSTMT:*NODEBUGIO)                                     </span><br><span class="line">F*===============================================================+</span><br><span class="line">FCPWFTR    IF   E             DISK    USROPN INFDS(FDS0)          </span><br><span class="line">FCPWFTR1   IF   E             DISK    USROPN INFDS(FDS1)          </span><br><span class="line">FCPWFTR2   IF   E             DISK    USROPN INFDS(FDS2)          </span><br><span class="line">FCPWFTR3   IF   E             DISK    USROPN INFDS(FDS3)          </span><br><span class="line">FCPWFTR4   IF   E             DISK    USROPN INFDS(FDS4)          </span><br><span class="line">FCPWFTR5   IF   E             DISK    USROPN INFDS(FDS5)          </span><br><span class="line">FCPWFTR6   IF   E             DISK    USROPN INFDS(FDS6)          </span><br><span class="line">FCPWFTR7   IF   E             DISK    USROPN INFDS(FDS7)           </span><br><span class="line">FCPWFTR8   IF   E             DISK    USROPN INFDS(FDS8)           </span><br><span class="line">FCPWFTS1   O    E             DISK    USROPN                       </span><br><span class="line">FCPWFTS2   O    E             DISK    USROPN                       </span><br><span class="line">FCPWFTS3   O    E             DISK    USROPN                       </span><br><span class="line">FCPWFTS4   O    E             DISK    USROPN                       </span><br><span class="line">FCPWFTS5   O    E             DISK    USROPN                       </span><br><span class="line">FCPWFTS6   O    E             DISK    USROPN                       </span><br><span class="line">FCPWFTS7   O    E             DISK    USROPN                       </span><br><span class="line">FCPWFTS8   O    E             DISK    USROPN                       </span><br><span class="line">FCLMPID01  IF   E           K DISK                                 </span><br><span class="line">FCPMDM1    IF   E           K DISK                                 </span><br><span class="line">FCPMDM2    IF   E           K DISK                                 </span><br><span class="line">FCLMDM201  IF   E           K DISK    RENAME(MDM2R:MDM2R01)        </span><br><span class="line">FCPTFTB    UF A E           K DISK                                 </span><br><span class="line">D*===============================================================* </span><br><span class="line">D                SDS                                               </span><br><span class="line">D MSGQ              *PROC                                          </span><br><span class="line">D  USRID                254    263                                 </span><br><span class="line">D  USRID1               254    259                                 </span><br><span class="line">D*===============================================================* </span><br><span class="line">D                UDS                                               </span><br><span class="line">D  #WSID                170    179                                 </span><br><span class="line">D* 定義資料筆數參數 =============================================* </span><br><span class="line">D FDS0            DS                                               </span><br><span class="line">D  RCDNO0               156    159B 0                              </span><br><span class="line">D FDS1            DS                                               </span><br><span class="line">D  RCDNO1               156    159B 0                              </span><br><span class="line">D FDS2            DS                                               </span><br><span class="line">D  RCDNO2               156    159B 0                              </span><br><span class="line">D FDS3            DS                                               </span><br><span class="line">D  RCDNO3               156    159B 0                              </span><br><span class="line">D FDS4            DS                                               </span><br><span class="line">D  RCDNO4               156    159B 0                              </span><br><span class="line">D FDS5            DS                                                </span><br><span class="line">D  RCDNO5               156    159B 0                               </span><br><span class="line">D FDS6            DS                                                </span><br><span class="line">D  RCDNO6               156    159B 0                               </span><br><span class="line">D FDS7            DS                                                </span><br><span class="line">D  RCDNO7               156    159B 0                               </span><br><span class="line">D FDS8            DS                                                </span><br><span class="line">D  RCDNO8               156    159B 0                               </span><br><span class="line">D* DATAQ LAYOUT =================================================*  </span><br><span class="line">D #PSND2          DS                                                </span><br><span class="line"> * 通知處理碼                                                       </span><br><span class="line">D  @NPCOD                 1      2                                  </span><br><span class="line"> * 來源主機                                                         </span><br><span class="line">D  @HOSFR                 3     12                                  </span><br><span class="line"> * 來源 LIBRARY                                                     </span><br><span class="line">D  @LIB                  13     22                                  </span><br><span class="line"> * 來源  FILE NAME : CPWFTS#                                        </span><br><span class="line">D  @FILNM                23     32                                   </span><br><span class="line"> * 來源 MEMBER :  產生的 OUTPUT MEMBER                               </span><br><span class="line">D  @MBRNM                33     42                                   </span><br><span class="line"> * 目的主機 : 固定為 INDM                                            </span><br><span class="line">D  @HOSTO                43     52                                   </span><br><span class="line"> * 特店代碼                                                          </span><br><span class="line">D  @MCHNO                53     67                                   </span><br><span class="line"> * 目的檔案名稱                                                      </span><br><span class="line">D  @FILTX                68     87                                   </span><br><span class="line"> * 目的 PC 名稱                                                      </span><br><span class="line">D  @PCFNM                68     82                                   </span><br><span class="line"> * 廠商代碼                                                          </span><br><span class="line">D  @MOCNO                68     71                                   </span><br><span class="line"> * 檔案類別                                                          </span><br><span class="line">D  @FILTP                72     72                                   </span><br><span class="line"> * 批號 (10A):YYYYMMDD + NN, NN: 序號 &#x27;00&#x27;-&#x27;99&#x27;                      </span><br><span class="line">D  @DATE                 73     80  0                                </span><br><span class="line">D  @SEQ                  81     82  0                      </span><br><span class="line"> * 傳送方式  (1A): I-  銀行端接收檔  , O-  銀行端回覆檔    </span><br><span class="line">D  @SNDTP                83     83                         </span><br><span class="line"> * 副檔名                                                  </span><br><span class="line">D  @SNDTX                84     87                         </span><br><span class="line"> * TN5250 參數，留空白會用預設值                           </span><br><span class="line">D  @DEFUL                88     97                         </span><br><span class="line"> * 檔案種類 0-5                                            </span><br><span class="line">D  @DEF1                 88     88                         </span><br><span class="line"> * 中文內碼：預設為 BIG-5                                  </span><br><span class="line">D  @DEF2                 89     89                         </span><br><span class="line"> * 跳行指令：預設為 CR+LF                                  </span><br><span class="line">D  @DEF3                 90     90                         </span><br><span class="line"> * 輸出：預設為檔案輸出                                    </span><br><span class="line">D  @DEF4                 91     91                         </span><br><span class="line"> * 檔案結尾加 0E0F ：預設不勾選                            </span><br><span class="line">D  @DEF5                 92     92                         </span><br><span class="line"> * 0E/0F 轉為空白：預設勾選，表示不會位移                          </span><br><span class="line">D  @DEF6                 93     93                                 </span><br><span class="line"> * 中文空白以英文空白取代：預設不勾選                              </span><br><span class="line">D  @DEF7                 94     94                                 </span><br><span class="line"> * 檔案欄位加 TAB 分隔字元：預設不勾選                             </span><br><span class="line">D  @DEF8                 95     95                                 </span><br><span class="line"> * EXCEL OUTPUT WITH HEADER ：預設不勾選                           </span><br><span class="line">D  @DEF9                 96     96                                 </span><br><span class="line"> * UNICODE ：預設不勾選                                            </span><br><span class="line">D  @DEF10                97     97                                 </span><br><span class="line"> * 是否壓縮旗標 (1 位 ) ，可輸入 Y/N ，預設 Y( 壓縮 )              </span><br><span class="line">D  @DEF11                98     98                                 </span><br><span class="line"> * 密碼 (12 位 ) ，若壓縮旗標為 N ，本欄位自動設成無密碼           </span><br><span class="line">D  @DEF12                99    110                                 </span><br><span class="line">D  @FTPDE              1024   1024                                 </span><br><span class="line">D* 定義常數 =====================================================* </span><br><span class="line"> * 下傳通知 DTAQ                                                   </span><br><span class="line">D #SDQN2          C                   CONST(&#x27;FTPBKS00A&#x27;)           </span><br><span class="line">D #HEAD           C                   CONST(&#x27;CUSTOMER_ID&#x27;)         </span><br><span class="line">D*===============================================================* </span><br><span class="line">D                 DS                                               </span><br><span class="line">D #TIM14                        14  0                              </span><br><span class="line">D  #TIME6                        6  0 OVERLAY(#TIM14:01)           </span><br><span class="line">D  #DATE8                        8  0 OVERLAY(#TIM14:07)           </span><br><span class="line">D*===============================================================* </span><br><span class="line">D                 DS                                               </span><br><span class="line">D #STEXT                  1     65                                 </span><br><span class="line"> * 資料日期                                                        </span><br><span class="line">D #DTADT                  1      8  0                              </span><br><span class="line"> * 分隔符號                                                        </span><br><span class="line">D #X1                     9      9    INZ(&#x27;,&#x27;)                     </span><br><span class="line"> * 文字限定詞                                                      </span><br><span class="line">D #D1                    10     10    INZ(&#x27;&quot;&#x27;)                     </span><br><span class="line"> * 卡號 ( 亂碼 )                                                   </span><br><span class="line">D #CNOHS                 11     42                                  </span><br><span class="line"> * 文字限定詞                                                       </span><br><span class="line">D #D2                    43     43    INZ(&#x27;&quot;&#x27;)                      </span><br><span class="line"> * 分隔符號                                                         </span><br><span class="line">D #X2                    44     44    INZ(&#x27;,&#x27;)                      </span><br><span class="line"> * 文字限定詞                                                       </span><br><span class="line">D #D3                    45     45    INZ(&#x27;&quot;&#x27;)                      </span><br><span class="line"> * 卡號  亂碼 )                                                     </span><br><span class="line">D #CANOF                 46     64                                  </span><br><span class="line"> * 文字限定詞                                                       </span><br><span class="line">D #D4                    65     65    INZ(&#x27;&quot;&#x27;)                      </span><br><span class="line">D*===============================================================*  </span><br><span class="line">D                 DS                                                </span><br><span class="line">D #OLDID                  1     19                                  </span><br><span class="line">D  #ID08                  1      8                                  </span><br><span class="line">D  #ID09                  1      9                                  </span><br><span class="line">D  #ID9                   9      9                                  </span><br><span class="line">D  #ID10                 10     10                                  </span><br><span class="line">D  #ID11                  1     11                                  </span><br><span class="line">D*===============================================================*  </span><br><span class="line">D                 DS                                                </span><br><span class="line">D #DATE                   1      8  0 INZ(0)                        </span><br><span class="line">D  #DATES                 1      8                                  </span><br><span class="line">D* 預設值 =======================================================*  </span><br><span class="line">D #FILTP          S              1A   INZ(*BLANK)                   </span><br><span class="line">D #MOCNO          S              4A   INZ(*BLANK)                   </span><br><span class="line">D #POS            S              2S 0 INZ(0)                        </span><br><span class="line">D #IDST           S              2S 0 INZ(0)                        </span><br><span class="line">D #IDED           S              2S 0 INZ(0)                        </span><br><span class="line">D #IDLEN          S              2S 0 INZ(0)                        </span><br><span class="line">D #INT            S              1S 0 INZ(0)                        </span><br><span class="line">D #NEWID          S             10A   INZ(*BLANK)                   </span><br><span class="line">D @NEWID          S             40A   INZ(*BLANK)                   </span><br><span class="line">D #TYPE           S              1A   INZ(*BLANK)                   </span><br><span class="line">D #RTEXT          S           4090A   INZ(*BLANK)                  </span><br><span class="line">D #DATE7          S              7S 0 INZ(0)                       </span><br><span class="line">D #TIME           S              6S 0 INZ(0)                       </span><br><span class="line"> *                                                                 </span><br><span class="line">D #LIB            S              5A   INZ(*BLANK)                  </span><br><span class="line">D #SFILE          S             10A   INZ(*BLANK)                  </span><br><span class="line">D #BATSQ          S              2S 0 INZ(0)                       </span><br><span class="line">D #DQNAM          S             10A   INZ(*BLANK)                  </span><br><span class="line">D #DQLIB          S             10A   INZ(*BLANK)                  </span><br><span class="line">D #DQLEN          S              5P 0 INZ(0)                       </span><br><span class="line"> * 從 C912V0C 傳來的參數 1=====================================*   </span><br><span class="line">D #PACK           DS                                               </span><br><span class="line"> * ＰＣ檔名 (16)                                                   </span><br><span class="line">D  #RPCFNM               11     26                                 </span><br><span class="line"> *   CPTFTB 檔案類別 (1)                                           </span><br><span class="line">D    #RFILTP             15     15                                 </span><br><span class="line"> *   CPTFTB 廠商代碼 (4)                                           </span><br><span class="line">D    #RMOCNO             11     14                                </span><br><span class="line"> *   CPTFTB 批號日期 (8)                                          </span><br><span class="line">D    #RBATNO             16     23  0                             </span><br><span class="line"> *   CPTFTB 批號序號 (2)                                          </span><br><span class="line">D    #RBATSQ             24     25  0                             </span><br><span class="line"> * 來源檔案 (10)                                                  </span><br><span class="line">D  #RFILE                27     36                                </span><br><span class="line"> * 從 C912V0C 傳來的參數 2=====================================*  </span><br><span class="line">D #C912V          DS                                              </span><br><span class="line"> * ＰＣ檔名 (15)                                                  </span><br><span class="line">D  #PCFNM                 1     15                                </span><br><span class="line"> * 媒體檔名 (20)                                                  </span><br><span class="line">D  #FILNM                16     35                                </span><br><span class="line"> * 檔案筆數 (9)                                                   </span><br><span class="line">D  #TRCNT                36     44  0                             </span><br><span class="line"> * 來源主機 (10)                                                  </span><br><span class="line">D  #SYSNM                45     54                                </span><br><span class="line"> * 環境類別 (1)                                                      </span><br><span class="line">D  #ENVIR                55     55                                   </span><br><span class="line"> * ＭＢＲ名稱  (7)                                                   </span><br><span class="line">D  #MBR                  56     62                                   </span><br><span class="line"> * 回傳碼   (1)                                                      </span><br><span class="line">D  #RTNCD                63     63                                   </span><br><span class="line">D* &#x27;S&#x27;= 疑似外流冒用卡號資料檔傳送已完成                             </span><br><span class="line">I* 更改欄位名稱 =================================================*   </span><br><span class="line">IWFTR1R                                                              </span><br><span class="line">I              RTXT                        RTXT1                     </span><br><span class="line">IWFTR2R                                                              </span><br><span class="line">I              RTXT                        RTXT2                     </span><br><span class="line">IWFTR3R                                                              </span><br><span class="line">I              RTXT                        RTXT3                     </span><br><span class="line">IWFTR4R                                                              </span><br><span class="line">I              RTXT                        RTXT4                     </span><br><span class="line">IWFTR5R                                                              </span><br><span class="line">I              RTXT                        RTXT5                  </span><br><span class="line">IWFTR6R                                                           </span><br><span class="line">I              RTXT                        RTXT6                  </span><br><span class="line">IWFTR7R                                                           </span><br><span class="line">I              RTXT                        RTXT7                  </span><br><span class="line">IWFTR8R                                                           </span><br><span class="line">I              RTXT                        RTXT8                  </span><br><span class="line">ITFTBR                                                            </span><br><span class="line">I              USID                        TUSID                  </span><br><span class="line">C*===============================================================*</span><br><span class="line">C     *ENTRY        PLIST                                         </span><br><span class="line">C                   PARM                    #PACK                 </span><br><span class="line">C                   PARM                    #C912V                </span><br><span class="line">C*===============================================================*</span><br></pre></td></tr></table></figure><h2 id="主程序"><a href="#主程序" class="headerlink" title="主程序"></a>主程序</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">C*===============================================================*</span><br><span class="line">C*                  M A I N       R O U T I N E                  *</span><br><span class="line">C*===============================================================*</span><br><span class="line">C     BEGIN         TAG                                           </span><br><span class="line"> * 以接收檔名決定ＰＲＯＣ                                      </span><br><span class="line">C                   SELECT                                     </span><br><span class="line">C                   WHEN      #RFILE = &#x27;CPWFTR&#x27;                </span><br><span class="line">C                   EXSR      $PROC                            </span><br><span class="line">C                   WHEN      #RFILE = &#x27;CPWFTR1&#x27;               </span><br><span class="line">C                   EXSR      $PROC1                           </span><br><span class="line">C                   WHEN      #RFILE = &#x27;CPWFTR2&#x27;               </span><br><span class="line">C                   EXSR      $PROC2                           </span><br><span class="line">C                   WHEN      #RFILE = &#x27;CPWFTR3&#x27;               </span><br><span class="line">C                   EXSR      $PROC3                           </span><br><span class="line">C                   WHEN      #RFILE = &#x27;CPWFTR4&#x27;               </span><br><span class="line">C                   EXSR      $PROC4                           </span><br><span class="line">C                   WHEN      #RFILE = &#x27;CPWFTR5&#x27;               </span><br><span class="line">C                   EXSR      $PROC5                           </span><br><span class="line">C                   WHEN      #RFILE = &#x27;CPWFTR6&#x27;               </span><br><span class="line">C                   EXSR      $PROC6                           </span><br><span class="line">C                   WHEN      #RFILE = &#x27;CPWFTR7&#x27;               </span><br><span class="line">C                   EXSR      $PROC7                                </span><br><span class="line">C                   WHEN      #RFILE = &#x27;CPWFTR8&#x27;                    </span><br><span class="line">C                   EXSR      $PROC8                                </span><br><span class="line">C                   OTHER                                           </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;N&#x27;                         </span><br><span class="line">C                   GOTO      @EOJ                                  </span><br><span class="line">C                   ENDSL                                           </span><br><span class="line"> * 更新上傳通知                                                     </span><br><span class="line">C                   EXSR      $UFTBU                                </span><br><span class="line"> * 下傳通知                                                         </span><br><span class="line">C                   EXSR      $GTBSQ                                </span><br><span class="line">C                   EXSR      $SEND                                 </span><br><span class="line">C                   EXSR      $UPFTB                                </span><br><span class="line"> *                                                                  </span><br><span class="line">C     @EOJ          TAG                                             </span><br><span class="line">C                   SETON                                        LR </span><br><span class="line"> *===============================================================*  </span><br></pre></td></tr></table></figure><h2 id="副程序，主流程-type1"><a href="#副程序，主流程-type1" class="headerlink" title="副程序，主流程(type1)"></a>副程序，主流程(type1)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">C*===============================================================*</span><br><span class="line"> *SR-$PROC          MAIN PROCUDURE                               *      </span><br><span class="line"> * 讀取接收檔 CPWFTR(LEN=150) 寫傳輸檔 CPWFTS1(LEN=300)          *      </span><br><span class="line"> *===============================================================*      </span><br><span class="line">CSR   $PROC         BEGSR                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   EVAL      #SFILE = &#x27;CPWFTS1&#x27;                        </span><br><span class="line"> * 打開檔案 CPWFTR &amp; CPWFTS1                                            </span><br><span class="line">C                   OPEN      CPWFTR                                    </span><br><span class="line">C                   OPEN      CPWFTS1                                   </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   IF        RCDNO0 &gt; 0                                </span><br><span class="line"> * 讀取接收檔                                                           </span><br><span class="line">C     1             SETLL     WFTRR                                     </span><br><span class="line">C                   READ      WFTRR                                  90 </span><br><span class="line">C                   DOW       *IN90  = *OFF                             </span><br><span class="line">C                   EVAL      #RTEXT = RTXT                             </span><br><span class="line"> * 取得客戶 CANO                                                        </span><br><span class="line">C                   EXSR      $GETCN                                    </span><br><span class="line"> * 寫入下載檔 1                                                         </span><br><span class="line">C                   IF        #CANOOF&lt;&gt; *BLANK OR #LKCNH &lt;&gt; *BLANK      </span><br><span class="line">C                   EVAL      STXT1   = #STEXT                          </span><br><span class="line">C                   WRITE     WFTS1R                                    </span><br><span class="line"> *CPTFTB 下載資料筆數                                                   </span><br><span class="line">C                   EVAL      #TRCNT += 1                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   READ      WFTRR                                  90 </span><br><span class="line">C                   ENDDO                                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> * 避免空檔錯誤，寫入一筆空值                                           </span><br><span class="line">C                   IF        #TRCNT  = 0                               </span><br><span class="line">C                   EVAL      STXT1   = *BLANK                          </span><br><span class="line">C                   WRITE     WFTS1R                                    </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> * 關閉檔案                                                        </span><br><span class="line">C                   CLOSE     CPWFTR                               </span><br><span class="line">C                   CLOSE     CPWFTS1                              </span><br><span class="line"> *                                                                 </span><br><span class="line">CSR                 ENDSR                                          </span><br><span class="line"> *===============================================================* </span><br></pre></td></tr></table></figure><h2 id="副程序，主流程-type2"><a href="#副程序，主流程-type2" class="headerlink" title="副程序，主流程(type2)"></a>副程序，主流程(type2)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *SR-$PROC1         MAIN PROCUDURE 1                             * </span><br><span class="line"> * 讀取接收檔 CPWFTR1(LEN=300) 寫傳輸檔 CPWFTS2(LEN=500)         * </span><br><span class="line"> *===============================================================* </span><br><span class="line">CSR   $PROC1        BEGSR                                          </span><br><span class="line"> *                                                                 </span><br><span class="line">C                   EVAL      #SFILE = &#x27;CPWFTS2&#x27;                   </span><br><span class="line"> * 打開檔案 CPWFTR1 &amp; CPWFTS2                                      </span><br><span class="line">C                   OPEN      CPWFTR1                              </span><br><span class="line">C                   OPEN      CPWFTS2                              </span><br><span class="line"> *                                                                 </span><br><span class="line">C                   IF        RCDNO1 &gt; 0                           </span><br><span class="line"> * 讀取接收檔 1                                                         </span><br><span class="line">C     1             SETLL     WFTR1R                                    </span><br><span class="line">C                   READ      WFTR1R                                 90 </span><br><span class="line">C                   DOW       *IN90  = *OFF                             </span><br><span class="line">C                   EVAL      #RTEXT = RTXT1                            </span><br><span class="line"> * 取得客戶 CANO                                                        </span><br><span class="line">C                   EXSR      $GETCN                                    </span><br><span class="line"> * 寫入下載檔 2                                                         </span><br><span class="line">C                   IF        #CANOOF&lt;&gt; *BLANK OR #LKCNH &lt;&gt; *BLANK      </span><br><span class="line">C                   EVAL      STXT2   = #STEXT                          </span><br><span class="line">C                   WRITE     WFTS2R                                    </span><br><span class="line"> *CPTFTB 下載資料筆數                                                   </span><br><span class="line">C                   EVAL      #TRCNT += 1                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   READ      WFTR1R                                 90 </span><br><span class="line">C                   ENDDO                                               </span><br><span class="line">C                   ENDIF                                             </span><br><span class="line"> * 避免空檔錯誤，寫入一筆空值                                         </span><br><span class="line">C                   IF        #TRCNT  = 0                             </span><br><span class="line">C                   EVAL      STXT2   = *BLANK                        </span><br><span class="line">C                   WRITE     WFTS2R                                  </span><br><span class="line">C                   IF        #RTNCD  = &#x27;P&#x27;                           </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;W&#x27;                           </span><br><span class="line">C                   ELSE                                              </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;E&#x27;                           </span><br><span class="line">C                   ENDIF                                             </span><br><span class="line">C                   ENDIF                                             </span><br><span class="line"> * 關閉檔案                                                           </span><br><span class="line">C                   CLOSE     CPWFTR1                                 </span><br><span class="line">C                   CLOSE     CPWFTS2                                 </span><br><span class="line"> *                                                                    </span><br><span class="line">CSR                 ENDSR                                             </span><br><span class="line"> *===============================================================*  </span><br></pre></td></tr></table></figure><h2 id="副程序，主流程-type3"><a href="#副程序，主流程-type3" class="headerlink" title="副程序，主流程(type3)"></a>副程序，主流程(type3)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *SR-$PROC2         MAIN PROCUDURE 2                             *      </span><br><span class="line"> * 讀取接收檔 CPWFTR2(LEN=500) 寫傳輸檔 CPWFTS3(LEN=700)         *      </span><br><span class="line"> *===============================================================*      </span><br><span class="line">CSR   $PROC2        BEGSR                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   EVAL      #SFILE = &#x27;CPWFTS3&#x27;                        </span><br><span class="line"> * 打開檔案 CPWFTR2 &amp; CPWFTS3                                           </span><br><span class="line">C                   OPEN      CPWFTR2                                   </span><br><span class="line">C                   OPEN      CPWFTS3                                   </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   IF        RCDNO2 &gt; 0                                </span><br><span class="line"> * 讀取接收檔 2                                                         </span><br><span class="line">C     1             SETLL     WFTR2R                                    </span><br><span class="line">C                   READ      WFTR2R                                 90 </span><br><span class="line">C                   DOW       *IN90  = *OFF                             </span><br><span class="line">C                   EVAL      #RTEXT = RTXT2                            </span><br><span class="line"> * 取得客戶 CANO                                                        </span><br><span class="line">C                   EXSR      $GETCN                                    </span><br><span class="line"> * 寫入下載檔 3                                                         </span><br><span class="line">C                   IF        #CANOOF&lt;&gt; *BLANK OR #LKCNH &lt;&gt; *BLANK      </span><br><span class="line">C                   EVAL      STXT3   = #STEXT                          </span><br><span class="line">C                   WRITE     WFTS3R                                    </span><br><span class="line"> *CPTFTB 下載資料筆數                                                   </span><br><span class="line">C                   EVAL      #TRCNT += 1                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   READ      WFTR2R                                 90 </span><br><span class="line">C                   ENDDO                                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> * 避免空檔錯誤，寫入一筆空值                                           </span><br><span class="line">C                   IF        #TRCNT  = 0                               </span><br><span class="line">C                   EVAL      STXT3   = *BLANK                          </span><br><span class="line">C                   WRITE     WFTS3R                                    </span><br><span class="line">C                   IF        #RTNCD  = &#x27;P&#x27;                             </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;W&#x27;                         </span><br><span class="line">C                   ELSE                                            </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;E&#x27;                         </span><br><span class="line">C                   ENDIF                                           </span><br><span class="line">C                   ENDIF                                           </span><br><span class="line"> * 關閉檔案                                                         </span><br><span class="line">C                   CLOSE     CPWFTR2                               </span><br><span class="line">C                   CLOSE     CPWFTS3                               </span><br><span class="line"> *                                                                  </span><br><span class="line">CSR                 ENDSR                                           </span><br><span class="line"> *===============================================================*  </span><br></pre></td></tr></table></figure><h2 id="副程序，主流程-type4"><a href="#副程序，主流程-type4" class="headerlink" title="副程序，主流程(type4)"></a>副程序，主流程(type4)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *SR-$PROC3         MAIN PROCUDURE 3                             *  </span><br><span class="line"> * 讀取接收檔 CPWFTR3(LEN=700) 寫傳輸檔 CPWFTS4(LEN=900)         *  </span><br><span class="line"> *===============================================================*  </span><br><span class="line">CSR   $PROC3        BEGSR                                           </span><br><span class="line"> *                                                                  </span><br><span class="line">C                   EVAL      #SFILE = &#x27;CPWFTS4&#x27;                    </span><br><span class="line"> * 打開檔案 CPWFTR3 &amp; CPWFTS4                                          </span><br><span class="line">C                   OPEN      CPWFTR3                                  </span><br><span class="line">C                   OPEN      CPWFTS4                                  </span><br><span class="line"> *                                                                     </span><br><span class="line">C                   IF        RCDNO3 &gt; 0                               </span><br><span class="line"> * 讀取接收檔 3                                                        </span><br><span class="line">C     1             SETLL     WFTR3R                                   </span><br><span class="line">C                   READ      WFTR3R                                 90</span><br><span class="line">C                   DOW       *IN90  = *OFF                            </span><br><span class="line">C                   EVAL      #RTEXT = RTXT3                           </span><br><span class="line"> * 取得客戶 CANO                                                       </span><br><span class="line">C                   EXSR      $GETCN                                   </span><br><span class="line"> * 寫入下載檔 4                                                        </span><br><span class="line">C                   IF        #CANOOF&lt;&gt; *BLANK OR #LKCNH &lt;&gt; *BLANK     </span><br><span class="line">C                   EVAL      STXT4   = #STEXT                         </span><br><span class="line">C                   WRITE     WFTS4R                                   </span><br><span class="line"> *CPTFTB 下載資料筆數                                                  </span><br><span class="line">C                   EVAL      #TRCNT += 1                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   READ      WFTR3R                                 90 </span><br><span class="line">C                   ENDDO                                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> * 避免空檔錯誤，寫入一筆空值                                           </span><br><span class="line">C                   IF        #TRCNT  = 0                               </span><br><span class="line">C                   EVAL      STXT4   = *BLANK                          </span><br><span class="line">C                   WRITE     WFTS4R                                    </span><br><span class="line">C                   IF        #RTNCD  = &#x27;P&#x27;                             </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;W&#x27;                             </span><br><span class="line">C                   ELSE                                                </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;E&#x27;                             </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> * 關閉檔案                                                             </span><br><span class="line">C                   CLOSE     CPWFTR3                               </span><br><span class="line">C                   CLOSE     CPWFTS4                               </span><br><span class="line"> *                                                                  </span><br><span class="line">CSR                 ENDSR                                           </span><br><span class="line"> *===============================================================* </span><br></pre></td></tr></table></figure><h2 id="副程序，主流程-type5"><a href="#副程序，主流程-type5" class="headerlink" title="副程序，主流程(type5)"></a>副程序，主流程(type5)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *SR-$PROC4         MAIN PROCUDURE 4                             *  </span><br><span class="line"> * 讀取接收檔 CPWFTR4(LEN=900) 寫傳輸檔 CPWFTS5(LEN=1024)        *  </span><br><span class="line"> *===============================================================*  </span><br><span class="line">CSR   $PROC4        BEGSR                                           </span><br><span class="line"> *                                                                  </span><br><span class="line">C                   EVAL      #SFILE = &#x27;CPWFTS5&#x27;                    </span><br><span class="line"> * 打開檔案 CPWFTR4 &amp; CPWFTS5                                       </span><br><span class="line">C                   OPEN      CPWFTR4                               </span><br><span class="line">C                   OPEN      CPWFTS5                               </span><br><span class="line"> *                                                                  </span><br><span class="line">C                   IF        RCDNO4 &gt; 0                            </span><br><span class="line"> * 讀取接收檔 4                                                     </span><br><span class="line">C     1             SETLL     WFTR4R                                    </span><br><span class="line">C                   READ      WFTR4R                                 90 </span><br><span class="line">C                   DOW       *IN90  = *OFF                             </span><br><span class="line">C                   EVAL      #RTEXT = RTXT4                            </span><br><span class="line"> * 取得客戶 CANO                                                        </span><br><span class="line">C                   EXSR      $GETCN                                    </span><br><span class="line"> * 寫入下載檔 5                                                         </span><br><span class="line">C                   IF        #CANOOF&lt;&gt; *BLANK OR #LKCNH &lt;&gt; *BLANK      </span><br><span class="line">C                   EVAL      STXT5   = #STEXT                          </span><br><span class="line">C                   WRITE     WFTS5R                                    </span><br><span class="line"> *CPTFTB 下載資料筆數                                                   </span><br><span class="line">C                   EVAL      #TRCNT += 1                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   READ      WFTR4R                                 90 </span><br><span class="line">C                   ENDDO                                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> * 避免空檔錯誤，寫入一筆空值                                      </span><br><span class="line">C                   IF        #TRCNT  = 0                          </span><br><span class="line">C                   EVAL      STXT5   = *BLANK                     </span><br><span class="line">C                   WRITE     WFTS5R                               </span><br><span class="line">C                   IF        #RTNCD  = &#x27;P&#x27;                        </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;W&#x27;                        </span><br><span class="line">C                   ELSE                                           </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;E&#x27;                        </span><br><span class="line">C                   ENDIF                                          </span><br><span class="line">C                   ENDIF                                          </span><br><span class="line"> * 關閉檔案                                                        </span><br><span class="line">C                   CLOSE     CPWFTR4                              </span><br><span class="line">C                   CLOSE     CPWFTS5                              </span><br><span class="line"> *                                                                 </span><br><span class="line">CSR                 ENDSR                                          </span><br><span class="line"> *===============================================================* </span><br></pre></td></tr></table></figure><h2 id="副程序，主流程-type6"><a href="#副程序，主流程-type6" class="headerlink" title="副程序，主流程(type6)"></a>副程序，主流程(type6)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *SR-$PROC5         MAIN PROCUDURE 5                             * </span><br><span class="line"> * 讀取接收檔 CPWFTR5(LEN=1024) 寫傳輸檔 CPWFTS6(LEN=1300)       *      </span><br><span class="line"> *===============================================================*      </span><br><span class="line">CSR   $PROC5        BEGSR                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   EVAL      #SFILE = &#x27;CPWFTS6&#x27;                        </span><br><span class="line"> * 打開檔案 CPWFTR5 &amp; CPWFTS6                                           </span><br><span class="line">C                   OPEN      CPWFTR5                                   </span><br><span class="line">C                   OPEN      CPWFTS6                                   </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   IF        RCDNO5 &gt; 0                                </span><br><span class="line"> * 讀取接收檔 5                                                         </span><br><span class="line">C     1             SETLL     WFTR5R                                    </span><br><span class="line">C                   READ      WFTR5R                                 90 </span><br><span class="line">C                   DOW       *IN90  = *OFF                             </span><br><span class="line">C                   EVAL      #RTEXT = RTXT5                            </span><br><span class="line"> * 取得客戶 CANO                                                        </span><br><span class="line">C                   EXSR      $GETCN                                    </span><br><span class="line"> * 寫入下載檔 6                                                         </span><br><span class="line">C                   IF        #CANOOF&lt;&gt; *BLANK OR #LKCNH &lt;&gt; *BLANK      </span><br><span class="line">C                   EVAL      STXT6   = #STEXT                          </span><br><span class="line">C                   WRITE     WFTS6R                                    </span><br><span class="line"> *CPTFTB 下載資料筆數                                                   </span><br><span class="line">C                   EVAL      #TRCNT += 1                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   READ      WFTR5R                                 90 </span><br><span class="line">C                   ENDDO                                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> * 避免空檔錯誤，寫入一筆空值                                           </span><br><span class="line">C                   IF        #TRCNT  = 0                               </span><br><span class="line">C                   EVAL      STXT6   = *BLANK                          </span><br><span class="line">C                   WRITE     WFTS6R                                    </span><br><span class="line">C                   IF        #RTNCD  = &#x27;P&#x27;                             </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;W&#x27;                             </span><br><span class="line">C                   ELSE                                            </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;E&#x27;                         </span><br><span class="line">C                   ENDIF                                           </span><br><span class="line">C                   ENDIF                                           </span><br><span class="line"> * 關閉檔案                                                         </span><br><span class="line">C                   CLOSE     CPWFTR5                               </span><br><span class="line">C                   CLOSE     CPWFTS6                               </span><br><span class="line"> *                                                                  </span><br><span class="line">CSR                 ENDSR                                           </span><br><span class="line"> *===============================================================*  </span><br></pre></td></tr></table></figure><h2 id="副程序，主流程-type7"><a href="#副程序，主流程-type7" class="headerlink" title="副程序，主流程(type7)"></a>副程序，主流程(type7)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *SR-$PROC6         MAIN PROCUDURE 6                             *  </span><br><span class="line"> * 讀取接收檔 CPWFTR6(LEN=1300) 寫傳輸檔 CPWFTS7(LEN=2048)       *  </span><br><span class="line"> *===============================================================*  </span><br><span class="line">CSR   $PROC6        BEGSR                                           </span><br><span class="line"> *                                                                  </span><br><span class="line">C                   EVAL      #SFILE = &#x27;CPWFTS7&#x27;                    </span><br><span class="line"> * 打開檔案 CPWFTR6 &amp; CPWFTS7                                       </span><br><span class="line">C                   OPEN      CPWFTR6                                   </span><br><span class="line">C                   OPEN      CPWFTS7                                   </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   IF        RCDNO6 &gt; 0                                </span><br><span class="line"> * 讀取接收檔 6                                                         </span><br><span class="line">C     1             SETLL     WFTR6R                                    </span><br><span class="line">C                   READ      WFTR6R                                 90 </span><br><span class="line">C                   DOW       *IN90  = *OFF                             </span><br><span class="line">C                   EVAL      #RTEXT = RTXT6                            </span><br><span class="line"> * 取得客戶 CANO                                                        </span><br><span class="line">C                   EXSR      $GETCN                                    </span><br><span class="line"> * 寫入下載檔 7                                                         </span><br><span class="line">C                   IF        #CANOOF&lt;&gt; *BLANK OR #LKCNH &lt;&gt; *BLANK      </span><br><span class="line">C                   EVAL      STXT7   = #STEXT                          </span><br><span class="line">C                   WRITE     WFTS7R                                    </span><br><span class="line"> *CPTFTB 下載資料筆數                                                   </span><br><span class="line">C                   EVAL      #TRCNT += 1                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   READ      WFTR6R                                 90 </span><br><span class="line">C                   ENDDO                                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> * 避免空檔錯誤，寫入一筆空值                                           </span><br><span class="line">C                   IF        #TRCNT  = 0                               </span><br><span class="line">C                   EVAL      STXT7   = *BLANK                          </span><br><span class="line">C                   WRITE     WFTS7R                                    </span><br><span class="line">C                   IF        #RTNCD  = &#x27;P&#x27;                             </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;W&#x27;                             </span><br><span class="line">C                   ELSE                                                </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;E&#x27;                             </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> * 關閉檔案                                                             </span><br><span class="line">C                   CLOSE     CPWFTR6                                  </span><br><span class="line">C                   CLOSE     CPWFTS7                                  </span><br><span class="line"> *                                                                     </span><br><span class="line">CSR                 ENDSR                                              </span><br><span class="line"> *===============================================================*  </span><br></pre></td></tr></table></figure><h2 id="副程序，主流程-type8"><a href="#副程序，主流程-type8" class="headerlink" title="副程序，主流程(type8)"></a>副程序，主流程(type8)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *SR-$PROC7         MAIN PROCUDURE 7                             *     </span><br><span class="line"> * 讀取接收檔 CPWFTR7(LEN=2048) 寫傳輸檔 CPWFTS8(LEN=4090)       *     </span><br><span class="line"> *===============================================================*     </span><br><span class="line">CSR   $PROC7        BEGSR                                              </span><br><span class="line"> *                                                                     </span><br><span class="line">C                   EVAL      #SFILE = &#x27;CPWFTS8&#x27;                       </span><br><span class="line"> * 打開檔案 CPWFTR7 &amp; CPWFTS8                                          </span><br><span class="line">C                   OPEN      CPWFTR7                                  </span><br><span class="line">C                   OPEN      CPWFTS8                                  </span><br><span class="line"> *                                                                     </span><br><span class="line">C                   IF        RCDNO7 &gt; 0                               </span><br><span class="line"> * 讀取接收檔 7                                                        </span><br><span class="line">C     1             SETLL     WFTR7R                                   </span><br><span class="line">C                   READ      WFTR7R                                 90 </span><br><span class="line">C                   DOW       *IN90  = *OFF                             </span><br><span class="line">C                   EVAL      #RTEXT = RTXT7                            </span><br><span class="line"> * 取得客戶 CANO                                                        </span><br><span class="line">C                   EXSR      $GETCN                                    </span><br><span class="line"> * 寫入下載檔 8                                                         </span><br><span class="line">C                   IF        #CANOOF&lt;&gt; *BLANK OR #LKCNH &lt;&gt; *BLANK      </span><br><span class="line">C                   EVAL      STXT8   = #STEXT                          </span><br><span class="line">C                   WRITE     WFTS8R                                    </span><br><span class="line"> *CPTFTB 下載資料筆數                                                   </span><br><span class="line">C                   EVAL      #TRCNT += 1                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   READ      WFTR7R                                 90 </span><br><span class="line">C                   ENDDO                                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> * 避免空檔錯誤，寫入一筆空值                                           </span><br><span class="line">C                   IF        #TRCNT  = 0                          </span><br><span class="line">C                   EVAL      STXT8   = *BLANK                     </span><br><span class="line">C                   WRITE     WFTS8R                               </span><br><span class="line">C                   IF        #RTNCD  = &#x27;P&#x27;                        </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;W&#x27;                        </span><br><span class="line">C                   ELSE                                           </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;E&#x27;                        </span><br><span class="line">C                   ENDIF                                          </span><br><span class="line">C                   ENDIF                                          </span><br><span class="line"> * 關閉檔案                                                        </span><br><span class="line">C                   CLOSE     CPWFTR7                              </span><br><span class="line">C                   CLOSE     CPWFTS8                              </span><br><span class="line"> *                                                                 </span><br><span class="line">CSR                 ENDSR                                          </span><br><span class="line"> *===============================================================* </span><br></pre></td></tr></table></figure><h2 id="副程序，主流程-type9"><a href="#副程序，主流程-type9" class="headerlink" title="副程序，主流程(type9)"></a>副程序，主流程(type9)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *SR-$PROC8         MAIN PROCUDURE 8                             * </span><br><span class="line"> * 讀取接收檔 CPWFTR8(LEN=4090) 寫傳輸檔 CPWFTS8(LEN=4090)       * </span><br><span class="line"> *===============================================================*     </span><br><span class="line">CSR   $PROC8        BEGSR                                              </span><br><span class="line"> *                                                                     </span><br><span class="line">C                   EVAL      #SFILE = &#x27;CPWFTS8&#x27;                       </span><br><span class="line"> * 打開檔案 CPWFTR8 &amp; CPWFTS8                                          </span><br><span class="line">C                   OPEN      CPWFTR8                                  </span><br><span class="line">C                   OPEN      CPWFTS8                                  </span><br><span class="line"> *                                                                     </span><br><span class="line">C                   IF        RCDNO8 &gt; 0                               </span><br><span class="line"> * 讀取接收檔 8                                                        </span><br><span class="line">C     1             SETLL     WFTR8R                                   </span><br><span class="line">C                   READ      WFTR8R                                 90</span><br><span class="line">C                   DOW       *IN90  = *OFF                            </span><br><span class="line">C                   EVAL      #RTEXT = RTXT8                           </span><br><span class="line"> * 取得客戶 CANO                                                       </span><br><span class="line">C                   EXSR      $GETCN                                   </span><br><span class="line"> * 寫入下載檔 8                                                        </span><br><span class="line">C                   IF        #CANOOF&lt;&gt; *BLANK OR #LKCNH &lt;&gt; *BLANK      </span><br><span class="line">C                   EVAL      STXT8   = #STEXT                          </span><br><span class="line">C                   WRITE     WFTS8R                                    </span><br><span class="line"> *CPTFTB 下載資料筆數                                                   </span><br><span class="line">C                   EVAL      #TRCNT += 1                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   READ      WFTR8R                                 90 </span><br><span class="line">C                   ENDDO                                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> * 避免空檔錯誤，寫入一筆空值                                           </span><br><span class="line">C                   IF        #TRCNT  = 0                               </span><br><span class="line">C                   EVAL      STXT8   = *BLANK                          </span><br><span class="line">C                   WRITE     WFTS8R                                    </span><br><span class="line">C                   IF        #RTNCD  = &#x27;P&#x27;                             </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;W&#x27;                             </span><br><span class="line">C                   ELSE                                                </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;E&#x27;                      </span><br><span class="line">C                   ENDIF                                        </span><br><span class="line">C                   ENDIF                                        </span><br><span class="line"> * 關閉檔案                                                      </span><br><span class="line">C                   CLOSE     CPWFTR8                            </span><br><span class="line">C                   CLOSE     CPWFTS8                            </span><br><span class="line"> *                                                               </span><br><span class="line">CSR                 ENDSR                                        </span><br><span class="line"> *===============================================================</span><br></pre></td></tr></table></figure><h2 id="副程序-get-cano"><a href="#副程序-get-cano" class="headerlink" title="副程序(get cano)"></a>副程序(get cano)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *SR-$GETCN       取得    ＣＡＮＯ　                             </span><br><span class="line"> *===============================================================</span><br><span class="line">CSR   $GETCN        BEGSR                                        </span><br><span class="line">C*                                                               </span><br><span class="line">C                   RESET                   #STEXT               </span><br><span class="line">C                   MOVEL     *BLANK        #CANOOF              </span><br><span class="line">C                   MOVEL     *BLANK        #LKCNH               </span><br><span class="line">C                   MOVEL     *BLANK        #LKCNO           19  </span><br><span class="line">C                   MOVEL     *BLANK        #LKCNO           19        </span><br><span class="line"> *                                                             </span><br><span class="line">C                   EVAL      #LKCNO     =  #RTEXT                     </span><br><span class="line"> *                                                    </span><br><span class="line">C     #LKCNO        CHAIN     CPMDM1                             91    </span><br><span class="line">C     *IN91         IFEQ      *OFF                                     </span><br><span class="line">C                   MOVEL     CANOOF        #CANOOF          32        </span><br><span class="line"> *                                                       </span><br><span class="line">C                   ELSE                                               </span><br><span class="line">C     #LKCNO        IFNE      *BLANKS                                  </span><br><span class="line">C                   Z-ADD     1             #HSMOD            1 0      </span><br><span class="line">C                   MOVEL     #LKCNO        #HSDTA         1024        </span><br><span class="line">C                   MOVEL     *BLANKS       #HSRSL         1024        </span><br><span class="line">C                   CALL      &#x27;CS0438R&#x27;                                </span><br><span class="line">C                   PARM                    #HSMOD                     </span><br><span class="line">C                   PARM                    #HSDTA                     </span><br><span class="line">C                   PARM                    #HSRSL                     </span><br><span class="line"> *                                                                  </span><br><span class="line">C                   MOVEL     #HSRSL        #LKCNH           32     </span><br><span class="line">C                   ENDIF                                           </span><br><span class="line">C                   ENDIF                                           </span><br><span class="line"> * 搬值                                                             </span><br><span class="line">C                   EVAL      #DTADT     =  #DATE8                  </span><br><span class="line">C                   EVAL      #X1        =  &#x27;,&#x27;                     </span><br><span class="line">C                   EVAL      #D1        =  &#x27;&quot;&#x27;                     </span><br><span class="line">C                   EVAL      #CANOF     =  #CANOOF                 </span><br><span class="line">C                   EVAL      #D2        =  &#x27;&quot;&#x27;                     </span><br><span class="line">C                   EVAL      #X2        =  &#x27;,&#x27;                     </span><br><span class="line">C                   EVAL      #D3        =  &#x27;&quot;&#x27;                     </span><br><span class="line">C                   EVAL      #CNOHS     =  #LKCNH                  </span><br><span class="line">C                   EVAL      #D4        =  &#x27;&quot;&#x27;                     </span><br><span class="line"> *                                                                  </span><br><span class="line">CSR                 ENDSR                                           </span><br><span class="line"> *===============================================================*  </span><br></pre></td></tr></table></figure><h2 id="副程序-傳輸-log"><a href="#副程序-傳輸-log" class="headerlink" title="副程序(傳輸 log)"></a>副程序(傳輸 log)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *$UFTBU           UPDATE CPTFTB -UPLOAD * 更新 CPTFTB 上傳記錄  *  </span><br><span class="line"> *===============================================================*  </span><br><span class="line">CSR   $UFTBU        BEGSR                                           </span><br><span class="line"> * 更新 CPTFTB 狀態                                                 </span><br><span class="line"> * 讀批次檔案傳輸控制檔 CPTFTB (KEY=FILTP+MOCNO+BATNO+BATSQ)        </span><br><span class="line">C     #KFTBU        CHAIN     TFTBR                              92 </span><br><span class="line">C                   IF        *IN92   = *OFF                        </span><br><span class="line">C                   EVAL      PRCCD   = &#x27;00&#x27;                        </span><br><span class="line">C                   EVAL      STCNT   = #TRCNT                      </span><br><span class="line"> *                                                                  </span><br><span class="line">C                   EVAL      WSID    = #WSID                       </span><br><span class="line">C                   EVAL      TUSID   = USRID1                      </span><br><span class="line">C                   EVAL      CHGCD   = &#x27;U&#x27;                         </span><br><span class="line">C                   TIME                    #TIM14                  </span><br><span class="line">C                   EVAL      SYSD8   = #DATE8                      </span><br><span class="line">C                   EVAL      SYSTM   = #TIME6                      </span><br><span class="line">C                   UPDATE    TFTBR                                 </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">CSR                 ENDSR                                               </span><br><span class="line"> *===============================================================*  </span><br></pre></td></tr></table></figure><h2 id="副程序-get-transfer-seq"><a href="#副程序-get-transfer-seq" class="headerlink" title="副程序(get transfer seq)"></a>副程序(get transfer seq)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *SR-$GTBSQ    GET BATSQ AND WRITE CTPTBG  * 下載寫入 CPTFTB *          </span><br><span class="line"> *===============================================================*      </span><br><span class="line">CSR   $GTBSQ        BEGSR                                               </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   EVAL      #BATSQ  = 99                              </span><br><span class="line"> * 決定序號                                                             </span><br><span class="line"> * 讀批次檔案傳輸控制檔 CPTFTB (KEY=FILTP+MOCNO+BATNO+BATSQ)            </span><br><span class="line">C     #KFTB         SETGT     TFTBR                                     </span><br><span class="line">C                   READP     TFTBR                                  91 </span><br><span class="line">C                   IF        *IN91   = *OFF   AND  #FILTP  = FILTP  AN </span><br><span class="line">C                             #MOCNO  = MOCNO  AND  #DATE    = BATNO    </span><br><span class="line">C                   EVAL      #BATSQ  = BATSQ + 1                       </span><br><span class="line">C                   ELSE                                                </span><br><span class="line">C                   EVAL      #BATSQ  = 1                               </span><br><span class="line">C                   ENDIF                                               </span><br><span class="line"> * 寫入 CPTFTB                                                          </span><br><span class="line">C                   CLEAR                   TFTBR                       </span><br><span class="line">C                   EVAL      FILTP   = #FILTP                          </span><br><span class="line">C                   EVAL      MOCNO   = #MOCNO                          </span><br><span class="line">C                   EVAL      BATNO   = #DATE                           </span><br><span class="line">C                   EVAL      BATSQ   = #BATSQ                          </span><br><span class="line"> *                                                                      </span><br><span class="line">C                   EVAL      WSID    = #WSID                           </span><br><span class="line">C                   EVAL      TUSID   = USRID1                          </span><br><span class="line">C                   EVAL      CHGCD   = &#x27;A&#x27;                             </span><br><span class="line">C                   TIME                    #TIM14                      </span><br><span class="line">C                   EVAL      SYSD8   = #DATE8                          </span><br><span class="line">C                   EVAL      SYSTM   = #TIME6                          </span><br><span class="line">C                   WRITE     TFTBR                                91   </span><br><span class="line">C                   DOW       *IN91   = *ON                             </span><br><span class="line">C                   EVAL      #BATSQ  = #BATSQ + 1                     </span><br><span class="line">C                   EVAL      BATSQ   = #BATSQ                         </span><br><span class="line">C                   WRITE     TFTBR                                91  </span><br><span class="line">C                   ENDDO                                              </span><br><span class="line"> *                                                                     </span><br><span class="line">CSR                 ENDSR                                              </span><br><span class="line"> *===============================================================*   </span><br></pre></td></tr></table></figure><h2 id="副程序-send-msg-dataQ"><a href="#副程序-send-msg-dataQ" class="headerlink" title="副程序(send msg dataQ)"></a>副程序(send msg dataQ)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *$SEND     SEND DATAQ TO FTPBKS00A QUEUE     * 丟訊息至 DATAQ* *      </span><br><span class="line"> *===============================================================*     </span><br><span class="line">CSR   $SEND         BEGSR                                              </span><br><span class="line"> *                                                                     </span><br><span class="line">C                   EVAL      #DQNAM  = #SDQN2                         </span><br><span class="line">C                   EVAL      #DQLIB  = #LIB                           </span><br><span class="line">C                   Z-ADD     1024          #DQLEN                     </span><br><span class="line">C                   EVAL      @NPCOD  = &#x27;91&#x27;                           </span><br><span class="line">C                   EVAL      @FILNM  = #SFILE                         </span><br><span class="line">C                   EVAL      @MBRNM  = #MBR                           </span><br><span class="line">C                   EVAL      @HOSTO  = &#x27;INDM&#x27;                    </span><br><span class="line"> *4+1+ 日期 + 序號                                                </span><br><span class="line">C                   EVAL      @MOCNO  = #MOCNO                    </span><br><span class="line">C                   EVAL      @FILTP  = #FILTP                    </span><br><span class="line">C                   EVAL      @DATE   = #DATE                     </span><br><span class="line">C                   EVAL      @SEQ    = #BATSQ                    </span><br><span class="line">C                   EVAL      @SNDTP  = &#x27;O&#x27;                       </span><br><span class="line">C                   EVAL      @SNDTX  = &#x27;.TXT&#x27;                    </span><br><span class="line"> * 檔名回傳給 CLP                                                 </span><br><span class="line">C                   EVAL      #FILNM  = @FILTX                    </span><br><span class="line"> *  PC 檔名回傳給 CLP                                             </span><br><span class="line">C                   EVAL      #PCFNM  = @PCFNM                    </span><br><span class="line"> *                                                                </span><br><span class="line">C                   EVAL      @DEF1   = &#x27;5&#x27;                       </span><br><span class="line">C                   EVAL      @DEF3   = &#x27;1&#x27;                       </span><br><span class="line">C                   EVAL      @DEF11  = &#x27;N&#x27;                       </span><br><span class="line">C                   EVAL      @DEF12  = *BLANK                    </span><br><span class="line"> * 寫入 DATAQ                                                         </span><br><span class="line">C                   CALL      &#x27;QSNDDTAQ&#x27;                              </span><br><span class="line">C                   PARM                    #DQNAM                    </span><br><span class="line">C                   PARM                    #DQLIB                    </span><br><span class="line">C                   PARM                    #DQLEN                    </span><br><span class="line">C                   PARM                    #PSND2                    </span><br><span class="line"> *                                                                    </span><br><span class="line">CSR                 ENDSR                                             </span><br><span class="line"> *===============================================================*   </span><br></pre></td></tr></table></figure><h2 id="副程序-upload-傳輸-log"><a href="#副程序-upload-傳輸-log" class="headerlink" title="副程序(upload 傳輸 log)"></a>副程序(upload 傳輸 log)</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *$UPFTB      UPDATE CPTFTB - DOWNLOAD   * 更新 CPTFTB 下載記錄  *    </span><br><span class="line"> *===============================================================*    </span><br><span class="line">CSR   $UPFTB        BEGSR                                             </span><br><span class="line"> * 更新 CPTFTB 狀態                                                   </span><br><span class="line"> * 讀批次檔案傳輸控制檔 CPTFTB (KEY=FILTP+MOCNO+BATNO+BATSQ)          </span><br><span class="line">C     #KFTB         CHAIN     TFTBR                              92   </span><br><span class="line">C                   IF        *IN92   = *OFF                          </span><br><span class="line">C                   EVAL      TCNT    = #TRCNT                        </span><br><span class="line">C                   EVAL      TAMT    = 0                    </span><br><span class="line">C                   EVAL      STCNT   = 0                    </span><br><span class="line">C                   EVAL      STAMT   = 0                    </span><br><span class="line">C                   TIME                    #TIM14           </span><br><span class="line">C                   EVAL      FILDT   = #DATE8               </span><br><span class="line">C                   EVAL      FILTM   = #TIME6               </span><br><span class="line">C                   EVAL      PRCCD   = &#x27;00&#x27;                 </span><br><span class="line">C                   EVAL      AS4LN   = @LIB                 </span><br><span class="line">C                   EVAL      AS4FN   = #SFILE               </span><br><span class="line">C                   EVAL      AS4MN   = #MBR                 </span><br><span class="line">C                   EVAL      FTDT1   = 0                    </span><br><span class="line"> *                                                           </span><br><span class="line">C                   EVAL      FTTX1   = #FILNM               </span><br><span class="line"> *                                                           </span><br><span class="line">C                   EVAL      WSID    = #WSID                </span><br><span class="line">C                   EVAL      TUSID   = USRID1               </span><br><span class="line">C                   EVAL      CHGCD   = &#x27;U&#x27;                  </span><br><span class="line">C                   TIME                    #TIM14                   </span><br><span class="line">C                   EVAL      SYSD8   = #DATE8                       </span><br><span class="line">C                   EVAL      SYSTM   = #TIME6                       </span><br><span class="line">C                   UPDATE    TFTBR                                  </span><br><span class="line">C                   ENDIF                                            </span><br><span class="line"> *                                                                   </span><br><span class="line">CSR                 ENDSR                                            </span><br><span class="line"> *===============================================================* </span><br></pre></td></tr></table></figure><h2 id="初始副程序"><a href="#初始副程序" class="headerlink" title="初始副程序"></a>初始副程序</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"> *===============================================================* </span><br><span class="line"> *SR-*INZSR        INITIAL WORK FIELD VALUE (AUTO)               *   </span><br><span class="line"> *===============================================================*   </span><br><span class="line">CSR   *INZSR        BEGSR                                            </span><br><span class="line"> * ＮＦＳ預設值                                                      </span><br><span class="line">C                   EVAL      #PSND2  = *BLANK                       </span><br><span class="line">C                   EVAL      @HOSFR  = #SYSNM                       </span><br><span class="line">C                   EVAL      #FILTP  = &#x27;4&#x27;                          </span><br><span class="line">C                   EVAL      #MOCNO  = &#x27;RISK&#x27;                       </span><br><span class="line">C                   EVAL      #DATE   = *DATE                        </span><br><span class="line">C                   EVAL      @MCHNO  = *BLANK                  </span><br><span class="line"> * 決定ＬＩＢ                                                   </span><br><span class="line">C                   IF        #ENVIR  = &#x27;T&#x27;                     </span><br><span class="line">C                   EVAL      @LIB    = &#x27;DMLIBT&#x27;                </span><br><span class="line">C                   EVAL      #LIB    = &#x27;*LIBL&#x27;                 </span><br><span class="line">C                   ELSE                                        </span><br><span class="line">C                   EVAL      @LIB    = &#x27;DMLIB&#x27;                 </span><br><span class="line">C                   EVAL      #LIB    = &#x27;DMLIB&#x27;                 </span><br><span class="line">C                   ENDIF                                       </span><br><span class="line"> * 寫入初值                                                     </span><br><span class="line">C                   EVAL      #TRCNT  = 0                       </span><br><span class="line">C                   EVAL      #RTNCD  = &#x27;S&#x27;                     </span><br><span class="line">C                   EVAL      #DATE7  = *DATE -19110000         </span><br><span class="line">C                   TIME                    #TIM14              </span><br><span class="line">C                   EVAL      #TIME   = #TIME6                  </span><br><span class="line"> * CPTFTB-UPLOAD 的鍵值 ( KEY=FILTP+MOCNO+BATNO+BATSQ )         </span><br><span class="line">C     #KFTBU        KLIST                                       </span><br><span class="line">C                   KFLD                    #RFILTP                  </span><br><span class="line">C                   KFLD                    #RMOCNO                  </span><br><span class="line">C                   KFLD                    #RBATNO                  </span><br><span class="line">C                   KFLD                    #RBATSQ                  </span><br><span class="line"> *                                                                   </span><br><span class="line"> * CPTFTB-DOWNLOAD 的鍵值 ( KEY=FILTP+MOCNO+BATNO+BATSQ )            </span><br><span class="line">C     #KFTB         KLIST                                            </span><br><span class="line">C                   KFLD                    #FILTP                   </span><br><span class="line">C                   KFLD                    #MOCNO                   </span><br><span class="line">C                   KFLD                    #DATE                    </span><br><span class="line">C                   KFLD                    #BATSQ                   </span><br><span class="line"> *                                                                   </span><br><span class="line">CSR                 ENDSR                                            </span><br><span class="line"> *===============================================================*   </span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="Software Development" scheme="https://kaidloglife.netlify.app/categories/Software-Development/"/>
    
    <category term="as400" scheme="https://kaidloglife.netlify.app/categories/Software-Development/as400/"/>
    
    
    <category term="as400" scheme="https://kaidloglife.netlify.app/tags/as400/"/>
    
  </entry>
  
  <entry>
    <title>How to add your footprint in your blog?</title>
    <link href="https://kaidloglife.netlify.app/2019/11/23/blog/"/>
    <id>https://kaidloglife.netlify.app/2019/11/23/blog/</id>
    <published>2019-11-23T11:57:15.000Z</published>
    <updated>2022-05-18T17:34:21.790Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="How-to-use-jVectorMap-to-create-your-own-traveling-footprint"><a href="#How-to-use-jVectorMap-to-create-your-own-traveling-footprint" class="headerlink" title="How to use jVectorMap to create your own traveling footprint"></a>How to use jVectorMap to create your own traveling footprint</h1><p><img src="https://i.imgur.com/TqaKqox.png" alt="My footprint"></p><h2 id="jVectorMap"><a href="#jVectorMap" class="headerlink" title="jVectorMap"></a>jVectorMap</h2><p>JVectorMap 是一個優秀的、兼容性強的 jQuery 地圖插件。</p><p>它可以工作在包括 IE6 在内的各款瀏覽器中，矢量圖輸出，除官方提供各國地圖資料外，用戶可以使用數據轉換程序定制地圖數據。例如街道地圖、小區地圖等等。</p><p><img src="http://wx4.sinaimg.cn/large/cf5b72a1ly1fvv2t7olhjj20ss0e8jvo.jpg" alt="jVectorMap"></p><p>那麼今天的目標就是打造自己的足跡地圖並放置到自己的 Blog 上</p><h2 id="目錄結構"><a href="#目錄結構" class="headerlink" title="目錄結構"></a>目錄結構</h2><p><img src="https://i.imgur.com/9kRBcwL.png"></p><ul><li><p>红色框中的文件是必须要引入的内容。</p></li><li><p>藍色框中的文件是展示的地圖，可自行到官網下載需要的地圖 : <a href="http://jvectormap.com/maps/world/world/">http://jvectormap.com/maps/world/world/</a>，複製到 js 目錄。</p></li><li><p>index.html 中需要添加足跡位置和相關樣式。</p></li></ul><h2 id="開始"><a href="#開始" class="headerlink" title="開始"></a>開始</h2><p> <code>index.html</code> 分為三部分介紹：</p><ul><li><p>如何更換不同國家地圖。</p></li><li><p>如何修改地圖顏色等相關樣式。</p></li><li><p>如何添加足跡位置。</p></li></ul><h2 id="第一部分：如何更換不同國家地圖。"><a href="#第一部分：如何更換不同國家地圖。" class="headerlink" title="第一部分：如何更換不同國家地圖。"></a>第一部分：如何更換不同國家地圖。</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--import jQuery framework--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;js/jquery-1.9.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--加入jVectorMap--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;js/jquery-jvectormap-1.2.2.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--import css--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;js/jquery-jvectormap-1.2.2.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">media</span>=<span class="string">&quot;screen&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--import chinese map database--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--script type=&quot;text/javascript&quot; src=&quot;js/jquery-jvectormap-cn-merc-en.js&quot;&gt;&lt;/script--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--import US map database--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--script type=&quot;text/javascript&quot; src=&quot;js/jquery-jvectormap-us-aea.js&quot;&gt;&lt;/script--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--import world map database--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;js/jquery-jvectormap-world-mill.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>提前下載需要的國家地圖，複製到 js 目錄下。</p><p>在 <code>&lt;head&gt;</code> 標籤裡引入地圖資料： <code>&lt;script type=&quot;text/javascript&quot; src=&quot;js/地圖文件名&quot;&gt;&lt;/script&gt;</code></p><p><strong>注意</strong> ：同時只能有一個地圖庫，注意不要引入多個地圖數據。可以選擇注釋掉其他的，方便更改。</p><h2 id="第二部分：如何修改地圖顏色等相關樣式。"><a href="#第二部分：如何修改地圖顏色等相關樣式。" class="headerlink" title="第二部分：如何修改地圖顏色等相關樣式。"></a>第二部分：如何修改地圖顏色等相關樣式。</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--background-color: 地圖背景颜色--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;map&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-color:#353535&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">$(<span class="string">&#x27;#map&#x27;</span>).<span class="title function_">vectorMap</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 此處更改地圖</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//map: &#x27;cn_merc_en&#x27;,   // 中國地圖</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//map: &#x27;us-aea&#x27;,     // 美國地圖</span></span></span><br><span class="line"><span class="language-javascript"><span class="attr">map</span>: <span class="string">&#x27;world-mill&#x27;</span>, <span class="comment">// 世界地圖</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="attr">backgroundColor</span>: <span class="string">&#x27;transparent&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">zoomMin</span>: <span class="number">0.9</span>, <span class="comment">// 鼠標縮放時的最小比例</span></span></span><br><span class="line"><span class="language-javascript"><span class="attr">zoomMax</span>: <span class="number">2.4</span>, <span class="comment">// 鼠標縮放時的最大比例</span></span></span><br><span class="line"><span class="language-javascript"><span class="attr">focusOn</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">x</span>: <span class="number">0.55</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">y</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">scale</span>: <span class="number">0.9</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">regionStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">initial</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">fill</span>: <span class="string">&#x27;#e5e5e5&#x27;</span>,   <span class="comment">// 地圖顏色</span></span></span><br><span class="line"><span class="language-javascript"><span class="string">&quot;fill-opacity&quot;</span>: <span class="number">1</span>, <span class="comment">// 省份（州）是否隱藏，鼠標滑動時顯示; 1：顯示，2：隱藏。</span></span></span><br><span class="line"><span class="language-javascript"><span class="attr">stroke</span>: <span class="string">&#x27;none&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="string">&quot;stroke-width&quot;</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="string">&quot;stroke-opacity&quot;</span>: <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">hover</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">fill</span>: <span class="string">&#x27;#ccc&#x27;</span>,  <span class="comment">// 鼠標滑動至某省分的高亮顏色。</span></span></span><br><span class="line"><span class="language-javascript"><span class="string">&quot;fill-opacity&quot;</span>: <span class="number">0.8</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">selected</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">fill</span>: <span class="string">&#x27;yellow&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">selectedHover</span>: &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">markerStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">initial</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">fill</span>: <span class="string">&#x27;#fd8888&#x27;</span>, <span class="comment">// 足跡位置的填充顏色</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">stroke</span>: <span class="string">&#x27;#fff&#x27;</span>   <span class="comment">// 足跡位置的描邊顏色</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">hover</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">fill</span>: <span class="string">&#x27;#fd2020&#x27;</span>, <span class="comment">// 鼠標滑動至足跡位置後的填充顏色</span></span></span><br><span class="line"><span class="language-javascript"><span class="attr">stroke</span>: <span class="string">&#x27;#fff&#x27;</span>,  <span class="comment">// 鼠標滑動至足跡位置後的描邊顏色</span></span></span><br><span class="line"><span class="language-javascript"><span class="string">&quot;fill-opacity&quot;</span>: <span class="number">0.8</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>參照代碼注釋修改顏色和相關樣式。</p><p><strong>千萬注意</strong> ：在更改地图时 <code>map: &#39;地圖名稱&#39;</code>  ，地圖名稱是地圖數據文件名的後半部分。</p><p>例如：</p><p>美國地圖文件名：jquery-jvectormap-us-aea.js</p><p>那地圖的名稱是：us-aea</p><p><strong>但是要注意把 <code>-</code> (横槓)更改成 <code>_</code>（下滑線）。 否則不會顯示地圖。</strong></p><h2 id="第三部分：如何添加足跡位置。"><a href="#第三部分：如何添加足跡位置。" class="headerlink" title="第三部分：如何添加足跡位置。"></a>第三部分：如何添加足跡位置。</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">markers: [ // 足跡位置</span><br><span class="line"></span><br><span class="line">// &#123;latLng: [經度（保留兩位小數）, 緯度（保留兩位小數）], name: &#x27;城市名稱&#x27;&#125;,</span><br><span class="line">// 推荐查詢經緯度網站：http://www.gpsspg.com/maps.htm</span><br><span class="line"></span><br><span class="line">&#123;latLng: [37.53,-122.19], name: &#x27;LA&#x27;&#125;,</span><br><span class="line">&#123;latLng: [35.97,-114.92], name: &#x27;LV&#x27;&#125;,</span><br><span class="line">&#123;latLng: [25.03,121.52], name: &#x27;Taipei&#x27;&#125;,</span><br><span class="line">&#123;latLng: [22.99,120.18], name: &#x27;Tainan&#x27;&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>推薦查經緯度網站：<a href="http://www.gpsspg.com/maps.htm">http://www.gpsspg.com/maps.htm</a></p><p>語法：<code>&#123;latLng: [經度（保留兩位小數）, 緯度（保留兩位小數）], name: &#39;城市名稱&#39;&#125;,</code>。</p><h2 id="如何嵌入式到Blog中"><a href="#如何嵌入式到Blog中" class="headerlink" title="如何嵌入式到Blog中"></a>如何嵌入式到Blog中</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">style</span>=<span class="string">&quot;max-width: 100%&quot;</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">marginwidth</span>=<span class="string">&quot;0&quot;</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">marginheight</span>=<span class="string">&quot;0&quot;</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">height</span>=<span class="string">&quot;750px&quot;</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">src</span>=<span class="string">&quot;替換成你的足跡地圖連結&quot;</span>&gt;</span>                                        </span><br><span class="line"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>把製作好的足跡地圖文件放在 server 上，把訪問連結放在 <code>src</code> 中。</p><p>然後將上面的 code 複製到你的 Blog 頁面上即可。</p><p>可配合手機端和等比例縮放。</p><h2 id="下載代碼"><a href="#下載代碼" class="headerlink" title="下載代碼"></a>下載代碼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/kaidlog/traveling-footprint-creater</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="Software Development" scheme="https://kaidloglife.netlify.app/categories/Software-Development/"/>
    
    <category term="JavaScript" scheme="https://kaidloglife.netlify.app/categories/Software-Development/JavaScript/"/>
    
    
    <category term="footprint" scheme="https://kaidloglife.netlify.app/tags/footprint/"/>
    
  </entry>
  
  <entry>
    <title>Changelog</title>
    <link href="https://kaidloglife.netlify.app/2019/11/23/changelog/"/>
    <id>https://kaidloglife.netlify.app/2019/11/23/changelog/</id>
    <published>2019-11-23T09:13:03.000Z</published>
    <updated>2022-05-18T17:30:54.376Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h4 id="2022-05-10-version-1-1-1-released"><a href="#2022-05-10-version-1-1-1-released" class="headerlink" title="2022-05-10 version 1.1.1 released"></a>2022-05-10 version 1.1.1 released</h4><ul><li>update to the latest hexo engine</li></ul><h4 id="2019-11-23-version-0-2-0-released"><a href="#2019-11-23-version-0-2-0-released" class="headerlink" title="2019-11-23 version 0.2.0 released"></a>2019-11-23 version 0.2.0 released</h4><ul><li>add helper-wanko</li></ul><h4 id="2019-11-19-version-0-1-1-released"><a href="#2019-11-19-version-0-1-1-released" class="headerlink" title="2019-11-19 version 0.1.1 released"></a>2019-11-19 version 0.1.1 released</h4>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="changelog" scheme="https://kaidloglife.netlify.app/tags/changelog/"/>
    
  </entry>
  
  <entry>
    <title>What&#39;s Monetary Simple Model?</title>
    <link href="https://kaidloglife.netlify.app/2019/11/21/monetary_simple_model/"/>
    <id>https://kaidloglife.netlify.app/2019/11/21/monetary_simple_model/</id>
    <published>2019-11-21T13:32:45.000Z</published>
    <updated>2022-05-18T17:55:30.590Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Overlapping-Generation-Models"><a href="#Overlapping-Generation-Models" class="headerlink" title="Overlapping Generation Models"></a>Overlapping Generation Models</h1><h2 id="OLG-model-—-疊代模型"><a href="#OLG-model-—-疊代模型" class="headerlink" title="(OLG) model — 疊代模型"></a>(OLG) model — 疊代模型</h2><h3 id="把人分成兩個時期"><a href="#把人分成兩個時期" class="headerlink" title="把人分成兩個時期"></a>把人分成兩個時期</h3><pre><code>年輕人老人</code></pre><h4 id="⭐把經濟體開始的時期訂為1"><a href="#⭐把經濟體開始的時期訂為1" class="headerlink" title="⭐把經濟體開始的時期訂為1"></a>⭐把經濟體開始的時期訂為1</h4><pre><code>    t ≧ 1    N(t) 代表t時期出生的人，這邊用來定義”年輕人”    N(t-1)代表t-1時期出生的人，這邊用來定義”老人”</code></pre><h4 id="⭐️把消耗品儲蓄數量定為y"><a href="#⭐️把消耗品儲蓄數量定為y" class="headerlink" title="⭐️把消耗品儲蓄數量定為y"></a>⭐️把消耗品儲蓄數量定為y</h4><p>只有年輕的時候可以獲得，老的時候無法獲得</p><h4 id="⭐️疊代模型中，說明老人與年輕人都會消費，因此個體的效益-utility-取決於老人與年輕人的消費組合。"><a href="#⭐️疊代模型中，說明老人與年輕人都會消費，因此個體的效益-utility-取決於老人與年輕人的消費組合。" class="headerlink" title="⭐️疊代模型中，說明老人與年輕人都會消費，因此個體的效益(utility)取決於老人與年輕人的消費組合。"></a>⭐️疊代模型中，說明老人與年輕人都會消費，因此個體的效益(utility)取決於老人與年輕人的消費組合。</h4><p>給定一時期的消費量，個體效益會隨著另一時期的消費量而增加。<br>兩個時期個體皆傾向消費正向的數量。<br>為了讓明天有更多的消費，個體願意放棄今日的消費(如果蘋果相對明天而言充足)。</p><blockquote><p>👉定義一個個體C(1, t)為年輕時的消費，C(2, t+1)為老年時的消費<br>👉假設時間不是關鍵的要素，則這兩時期訂為C(1)，C(2)。</p></blockquote><p><img src="https://cdn-images-1.medium.com/max/1000/1*o8hTw6Y8ZvN6fh_mRxxu9w.png" alt="(圖1)無異曲線，說明了在效益相同(utility)之下，C(1) 和C(2) 之間的關係，A, B, C效益都是一樣的。"></p><blockquote><p>圖1(白話來說如果只有年輕時賺錢，那麼你一輩子賺的錢就是固定的(效益utility)，年輕時 + 老年時花的錢，就等於效益)。</p></blockquote><p><img src="https://cdn-images-1.medium.com/max/1000/1*O57tQ_EHlCLyuWS8ufaxDA.png" alt="(圖2)此無異曲線，說明了假如固定一個時期的消費，那麼效益會隨著另一時期的消費增加而增加。"></p><blockquote><p>圖2 (白話而言，就是假設退休金相同的情況之下，年輕的時候想多花錢則年輕時賺的錢要越多(效益))。</p></blockquote><h4 id="⭐️定義經濟的問題"><a href="#⭐️定義經濟的問題" class="headerlink" title="⭐️定義經濟的問題"></a>⭐️定義經濟的問題</h4><pre><code>老人跟年輕人都想要得到good，但是只有在年輕的時候可以賺取消費品(無儲存性)可行的分配</code></pre><h4 id="⭐️假設年輕人只會儲蓄"><a href="#⭐️假設年輕人只會儲蓄" class="headerlink" title="⭐️假設年輕人只會儲蓄"></a>⭐️假設年輕人只會儲蓄</h4><pre><code>我們可以得到(社會上的消費品總額)(t) = N(t)．y</code></pre><h4 id="⭐️假設在t出生的個體-簡稱t世代-，每個個體，都有相同的終身分配數額。"><a href="#⭐️假設在t出生的個體-簡稱t世代-，每個個體，都有相同的終身分配數額。" class="headerlink" title="⭐️假設在t出生的個體(簡稱t世代)，每個個體，都有相同的終身分配數額。"></a>⭐️假設在t出生的個體(簡稱t世代)，每個個體，都有相同的終身分配數額。</h4><pre><code>i.e. 都是C(1, t)和 C(2, +1)    — 年輕人在 t 時期        (所有年輕人的消費)(t) = N(t) · C(1, t)    — 老人在 t 時期        (所有老人的消費)(t)=N(t-1) · C(2, t)</code></pre><blockquote><p>👊 我們現在可以來說明消費的現象<br>        N(t) · C(1, t) + N(t-1) · C(2, t) ≦ N(t) · y</p></blockquote><h4 id="⭐️假設人口數是固定的-i-e-N-t-x3D-N-∀t"><a href="#⭐️假設人口數是固定的-i-e-N-t-x3D-N-∀t" class="headerlink" title="⭐️假設人口數是固定的(i.e N(t) &#x3D; N, ∀t)"></a>⭐️假設人口數是固定的(i.e N(t) &#x3D; N, ∀t)</h4><pre><code>    C(1, t) + C(2, t) ≦ y</code></pre><h4 id="⭐️假設每個時期的消費是固定的-靜態分配"><a href="#⭐️假設每個時期的消費是固定的-靜態分配" class="headerlink" title="⭐️假設每個時期的消費是固定的(靜態分配)"></a>⭐️假設每個時期的消費是固定的(靜態分配)</h4><pre><code>    i.e : C(1, t) = C(1), C(2, t)= C(2), ∀t    C(1) + C(2) ≦ y    — 這呈現了非常簡單的線性等式模型 ∈ C(1), C(2)</code></pre><p><img src="https://cdn-images-1.medium.com/max/1000/1*rrXw_S6gMTA0iuKNYY48aA.jpeg" alt="(圖3)可行解的區域，呈現了可分配的消費資源。A點則是永遠無法達到的。"></p><h2 id="Golden-Rule-Allocation"><a href="#Golden-Rule-Allocation" class="headerlink" title="Golden Rule Allocation"></a>Golden Rule Allocation</h2><pre><code>現在我們疊加上之前所說的個體無異曲線到圖3中，我們可以觀察當靜態分配且人口數不變，也就是時間變數不影響的話，可行分配的最大效益為多少。</code></pre><p><img src="https://cdn-images-1.medium.com/max/1000/1*W9SsDh_NoOGUURrwa21SsA.jpeg" alt="(圖4)Golden rule 我們可以發現 A 為最大福祉。"></p><blockquote><p>圖4，社會生產數額(A曲線)在每一個時期都大於總消費額(y線)，所以只有A可以達到最大效益，在可行解中達到最大社會福祉。D生產過剩，而B，C則生產不足。如圖5</p></blockquote><p><img src="https://cdn-images-1.medium.com/max/1000/1*NnlUwDNRWu69gnkR0tgsOA.jpeg" alt="(圖5) B, C生產不足造成的社會損失。"></p><h3 id="Corollary"><a href="#Corollary" class="headerlink" title="Corollary:"></a>Corollary:</h3><pre><code>靜態分配，對於年輕人跟老人是一個均衡的消費分配，用(C(1*), C(2*))表示。 誰都不能多拿，經濟學家不能偏袒其中一個。</code></pre><h4 id="Decentralized-Solution"><a href="#Decentralized-Solution" class="headerlink" title="Decentralized Solution"></a>Decentralized Solution</h4><pre><code>上面區塊說明的都是集權控制下的分配結果，現在我們想討論的是如果市場自行分配的結果呢?</code></pre><h4 id="⭐️競爭下的平衡-equilibrium-特質有"><a href="#⭐️競爭下的平衡-equilibrium-特質有" class="headerlink" title="⭐️競爭下的平衡(equilibrium)特質有:"></a>⭐️競爭下的平衡(equilibrium)特質有:</h4><pre><code>個體間互相做有利的交易，透過交易，個體傾向取得能力所及的最大效益。價格跟數量必須沒有變化，也就說個體的行為對價格沒有效果。在任何市場中，供需平衡。</code></pre><h4 id="Equilibrium-without-Money"><a href="#Equilibrium-without-Money" class="headerlink" title="Equilibrium without Money"></a>Equilibrium without Money</h4><pre><code>思考一下如果在自由的市場當中，OLG 在我們的經濟體中，沒有money的話?在沒有集權控制之下，是否還可以達到我們之前所說的結果??這樣的交易是不可能存在的，t時期有年輕人跟老年人(t-1時期的年輕人)，如果從事交易，對於年輕人是沒有利益的。對於年輕人而言，老了之後，幾乎是沒有消費品儲蓄的，所以這樣的交易肯定是徒勞無功的。老人想要年輕人生產的消費品，可是老人並沒有年輕人想要的東西。所以，對於一個自給自足的個體，每個人都在年輕的時候把消費品花光光，沒有留下任何東西，所以這樣的效益是很低的。</code></pre><h4 id="Equilibrium-with-Money"><a href="#Equilibrium-with-Money" class="headerlink" title="Equilibrium with Money"></a>Equilibrium with Money</h4><pre><code>在經濟體中給定一個固定的Stock = M，最初的老人一共有N個，所以每個老人都有M/N個。那麼就可以開啟交易，年輕人用消費品跟老人交換貨幣，年輕人在用貨幣跟下個世代的年輕人交換。我們先定義一個單位的貨幣(flat money)相對於消費品的單位價值為V(t)，i.e.，年輕人需要放棄多少消費品來換取一元。相反過來的話，一個消費品多少錢則定義成P(t)。</code></pre><h4 id="⭐️An-Individual’s-Budget"><a href="#⭐️An-Individual’s-Budget" class="headerlink" title="⭐️An Individual’s Budget"></a>⭐️An Individual’s Budget</h4><pre><code>前面有講過一個人分成兩個時期，老年跟少年，在少年時期賺取y個消費品，個體可以吃掉，或者換取金錢。    第一時期(t)        多定義一個M(t)為在少年(t)時期所賺取的金額數        C(1, t) + V(t)M(t) ≦ y        年輕時共賺取y 消費品，在年輕的時候花了C(1, t)然後用V(t)個消費品換一元共換取了M(t)元    第二時期(t+1)        C(2, t+1) ≦ V(t+1) · M(t)        老年的時候，拿著年輕時換取的M(t)元去換取V(t+1)/per dollar 換取了消費品共V(t+1) · M(t)，為老年人最高的消費總額。        V(t) &gt; 0, ∀t，整理以上兩式        第二式 : M(t) ≧ (C(2, t+1))/(V(t+1)), 代入第一式        C(1, t) + [V(t) · C(2, t+1)/ V(t+1)] ≦ y        C(1, t) + (V(t)/ V(t+1))· C(2, t+1) ≦ y — — (2)</code></pre><p><img src="https://cdn-images-1.medium.com/max/1000/1*ByYdCZUHDo8QsNNnOlnOaA.jpeg" alt="(圖6) 表示上面方程式(2)的圖"></p><blockquote><p>V(t+1)&#x2F;V(t) 👉為金錢回報率</p></blockquote><h3 id="圖6，說明C-1-t-C-2-t-1-為最佳解"><a href="#圖6，說明C-1-t-C-2-t-1-為最佳解" class="headerlink" title="圖6，說明C(1*, t) , C(2*, t+1)為最佳解"></a>圖6，說明C(1*, t) , C(2*, t+1)為最佳解</h3><h4 id="stationary-monetary-equilibrium-靜態平衡之下"><a href="#stationary-monetary-equilibrium-靜態平衡之下" class="headerlink" title="stationary monetary equilibrium(靜態平衡之下)"></a>stationary monetary equilibrium(靜態平衡之下)</h4><pre><code>兩世代的消費總額不受t影響，C(1) + V(t+1)/V(t) · C(2) =y</code></pre><h4 id="⭐️帶入個體之後"><a href="#⭐️帶入個體之後" class="headerlink" title="⭐️帶入個體之後"></a>⭐️帶入個體之後</h4><p>N(t) · (y-C(1, t))，為經濟體所需的金錢數額</p><blockquote><p>👆t時期出生的每個年輕人有N(t)個人，一輩子賺取的消費品有y，扣掉年輕時期所花掉的消費額之後剩下的數額。i.e.經濟體總需要的金額。<br>    V(t)M(t) &#x3D; N(t) · (y-C(1, t))<br>    V(t) &#x3D; N(t) · (y-C(1, t)) &#x2F; M(t)<br>    同理t+1時期<br>    V(t+1) &#x3D; N(t+1) · (y-C(1, t+1)) &#x2F; M(t+1)<br>    合併兩式</p></blockquote><p><img src="https://cdn-images-1.medium.com/max/1000/1*f4HV25WVIfgdLA3xbEZJRg.jpeg"></p><h5 id="我們假設，兩個時代出生的人數是相同的，N-t-x3D-N-t-1-，然後換取的金額數也相同，M-t-1-x3D-M-t-，做一下消去"><a href="#我們假設，兩個時代出生的人數是相同的，N-t-x3D-N-t-1-，然後換取的金額數也相同，M-t-1-x3D-M-t-，做一下消去" class="headerlink" title="我們假設，兩個時代出生的人數是相同的，N(t) &#x3D; N(t+1)，然後換取的金額數也相同，M(t+1) &#x3D; M(t)，做一下消去"></a>我們假設，兩個時代出生的人數是相同的，N(t) &#x3D; N(t+1)，然後換取的金額數也相同，M(t+1) &#x3D; M(t)，做一下消去</h5><p><img src="https://cdn-images-1.medium.com/max/1000/1*MPK0JyOrtAsaMwTBiHfPJA.jpeg"></p><blockquote><p>圖(7) 如果人口跟貨幣供給都固定的話，會呈現上圖</p></blockquote><blockquote><p>圖6跟圖7是一樣的表示，靜態貨幣模型式遵守Golden Rule 的。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="Commerce" scheme="https://kaidloglife.netlify.app/categories/Commerce/"/>
    
    <category term="Economics" scheme="https://kaidloglife.netlify.app/categories/Commerce/Economics/"/>
    
    
    <category term="model" scheme="https://kaidloglife.netlify.app/tags/model/"/>
    
    <category term="olg" scheme="https://kaidloglife.netlify.app/tags/olg/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Notes</title>
    <link href="https://kaidloglife.netlify.app/2019/11/21/hexo_note/"/>
    <id>https://kaidloglife.netlify.app/2019/11/21/hexo_note/</id>
    <published>2019-11-21T08:17:16.000Z</published>
    <updated>2022-05-18T17:35:40.874Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div class="note danger flat"><p>筆記持續新增中 Continue to take notes </p></div><div class="note info flat"><p>操作筆記 Hexo framework notes </p></div><div class="note warning flat"><p>文書筆記 Markdown related notes </p></div><h2 id="Hexo-Baic"><a href="#Hexo-Baic" class="headerlink" title="Hexo Baic"></a>Hexo Baic</h2><h3 id="More-info"><a href="#More-info" class="headerlink" title="More info:"></a>More info:</h3><ul><li><a href="https://ithelp.ithome.com.tw/articles/10191810?sc=iThelpR">Hexo_Foundation</a></li><li><a href="https://hexo.io/zh-tw/">Hexo官網</a></li><li><a href="https://ppundsh.github.io/posts/3e4b/">搭建紀錄</a></li></ul><h2 id="Markdown-Basic"><a href="#Markdown-Basic" class="headerlink" title="Markdown Basic"></a>Markdown Basic</h2><p>特殊框框，有幾種可以替換，把 danger 換掉就可以了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note danger %&#125; 筆記持續新增中 Continue to take notes &#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>可置換以下類別:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note default %&#125; 筆記持續新增中 Continue to take notes &#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note primary %&#125; 筆記持續新增中 Continue to take notes &#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note success %&#125; 筆記持續新增中 Continue to take notes &#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note warning %&#125; 筆記持續新增中 Continue to take notes &#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note info %&#125; 筆記持續新增中 Continue to take notes &#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note danger %&#125; 筆記持續新增中 Continue to take notes &#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><h3 id="More-info-1"><a href="#More-info-1" class="headerlink" title="More info:"></a>More info:</h3><ul><li><a href="https://www.iminho.me/wiki/docs/mindoc/markdown-basic.md">Markdown文件</a></li><li><a href="https://aplayer.js.org/#/zh-Hans/">Aplayer 文件</a></li><li><a href="https://javahikers.github.io/2019/06/15/hexo%E5%9C%A8%E6%96%87%E7%AB%A0%E6%8F%92%E5%85%A5aplayer%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/">操作方法</a></li><li><a href="https://www.oschina.net/p/hexo-douban">安裝方法</a></li><li><a href="http://yearito.cn/posts/hexo-advanced-settings.html">Yearito’s Blog</a></li></ul><hr><h2 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h2><p>特殊符號</p><ul><li><a href="https://tw.piliapp.com/symbol/">特殊符號</a></li></ul><h3 id="More-info-2"><a href="#More-info-2" class="headerlink" title="More info:"></a>More info:</h3><ul><li><a href="https://www.yanyunliang.com/2018/12/03/php-interview-knowledge-review-eight-commonly-used-array-function.html#more">PHP_筆記</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="Software Development" scheme="https://kaidloglife.netlify.app/categories/Software-Development/"/>
    
    <category term="Markdown" scheme="https://kaidloglife.netlify.app/categories/Software-Development/Markdown/"/>
    
    
    <category term="markdown" scheme="https://kaidloglife.netlify.app/tags/markdown/"/>
    
    <category term="notes" scheme="https://kaidloglife.netlify.app/tags/notes/"/>
    
  </entry>
  
  <entry>
    <title>Sitemap</title>
    <link href="https://kaidloglife.netlify.app/2019/11/20/sitemap/"/>
    <id>https://kaidloglife.netlify.app/2019/11/20/sitemap/</id>
    <published>2019-11-20T14:23:30.000Z</published>
    <updated>2022-05-18T17:25:33.833Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div class="note info flat"><p>Website will update when Hexo new version release,and currently version is 1.1.1  </p></div><div class="note danger flat"><p>Put my endavor on preparing toefl, now </p></div><div class="note warning flat"><p>Share some murmur and thoughts </p></div><div class="note success flat"><p>Any mistake and issue on my blog, it welcome to leave your message：）</p></div><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>Welcome to my blog, this is sitemap, if you come here first time : )</p><p>隨著本站的文章篇數增加，系統性的瀏覽需求日增，因此規劃了三個主要頁面－分別是 <a href="https://daekony.github.io/about/">關於我 (About)</a>、<a href="https://daekony.github.io/2019/11/20/sitemap/">網站導覽 (Sitemap)</a> 和 <a href="https://daekony.github.io/2019/11/23/changelog/">更新日誌 (Changelog)</a>。</p><p>而本篇為網站導覽，提供大家方便理解本站內容架構，你可以把這裡視為後設目錄 (meta-catalogue)，也就是本站系列文目錄的目錄。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="sitemap" scheme="https://kaidloglife.netlify.app/tags/sitemap/"/>
    
  </entry>
  
</feed>
